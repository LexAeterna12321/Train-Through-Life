{"version":3,"sources":["components/project/img/avatar.png","components/project/img/preload.jpeg","components/project/Navbar.js","components/store/actions/auth.js","components/store/types.js","components/project/auth/AuthPreloader.js","components/project/auth/signUpForm/SignUpStepOne.js","components/project/auth/signUpForm/SignUpStepTwo.js","components/project/auth/signUpForm/SignUpSummary.js","components/project/auth/signUpForm/FormSteps.js","components/project/auth/signUpForm/Buttons.js","components/project/auth/SignUp.js","components/store/actions/addUser.js","components/project/auth/SignIn.js","fbConfig/index.js","components/project/profile/Profile.js","components/project/notifications/Notification.js","components/project/notifications/Notifications.js","components/project/trainers/TrainerDetail.js","components/project/trainers/TrainerList.js","components/project/Loader.js","components/project/Dashboard.js","components/project/training/TrainingDetail.js","components/project/training/DatePicker.js","components/project/training/TrainingList.js","components/store/actions/addTraining.js","components/project/Footer.js","components/project/About.js","components/store/actions/editProfile.js","components/project/profile/EditProfile.js","components/project/training/EditTraining.js","components/store/actions/editTraining.js","components/project/profile/TrainingHistory.js","components/project/profile/TrainerDescription.js","components/store/actions/editTrainerDescription.js","components/store/actions/editTrainerClasses.js","components/project/profile/TrainerClasses.js","components/project/profile/EditPhoto.js","App.js","serviceWorker.js","components/store/reducers/trainingReducer.js","components/store/reducers/userReducer.js","components/store/reducers/authReducer.js","components/store/reducers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","buttonsStyle","margin","connect","state","auth","firebase","dispatch","signOut","getState","_ref2","getFirebase","then","type","catch","err","_ref","uid","react_default","a","createElement","style","position","zIndex","className","Link","to","isEmpty","Fragment","concat","onClick","width","display","justifyContent","padding","fontSize","Redirect","authPreloaderStyle","textTransform","authError","users","src","startPageImg","alt","marginBottom","SignUpStepOne","props","onInputChange","first_name","last_name","email","phone","id","onChange","value","htmlFor","pattern","placeholder","checkboxesStyle","flexDirection","alignItems","SignUpStepTwo","password","city","trainer","user","checkboxes","checked","name","SignUpSummary","empty","fieldsToFill","checkForEmptyFields","oldArray","_this","i","personData","Object","toConsumableArray","length","setState","this","_this$props","_this$props$personDat","onFormSubmit","_this$state","onSubmit","disabled","required","map","field","key","Component","navStepsStyle","cursor","FormSteps","step","redirectToStep","buttonStyle","Buttons","prevStep","nextStep","e","SignUp","objectSpread","defineProperty","target","preventDefault","addUser","history","push","renderForm","_assertThisInitialize","assertThisInitialized","_assertThisInitialize2","_assertThisInitialize3","signUpForm_SignUpStepOne","signUpForm_SignUpStepTwo","signUpForm_SignUpSummary","homeButtonStyle","signUpForm_FormSteps","signUpForm_Buttons","top","right","firestore","getFirestore","createUserWithEmailAndPassword","resp","collection","doc","set","createdAt","Date","message","SignIn","loginError","userAsTrainerLoginError","ref","React","createRef","passwordShowToggle","current","userEmail","userPassword","profiles","trainers","userMatched","find","profile","match","path","console","log","signIn","bgStyle","paddingTop","marginTop","backgroundImage","left","height","backgroundPosition","backgroundSize","compose","ordered","creds","credentials","signInWithEmailAndPassword","firestoreConnect","config","apiKey","process","FIREBASE_API_KEY","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","initializeApp","settings","timestampsInSnapshots","storage","Profile","url","renderProfileLinks","profileId","profileSectionsStyle","getAvatarPhoto","storageRef","child","getDownloadURL","avatar","_this$props$profile","avatarContainer","avatarStyle","charAt","toUpperCase","substr","trim","lineHeight","borderBottom","linkStyle","color","notificationStyle","border","trainingApprovedStyle","trainingPendingStyle","trainingCanceledStyle","ownProps","data","userId","notification","info","trainerId","_props$notification","_props$notification$i","trainingStatus","date","time","training","renderTrainingList","t","index","calculateTotalCost","totalCost","reduce","b","calculateTotalDuration","duration","ViewAdditiontimer","moment","toDate","calendar","Notifications","notifications","_notificationLimit","renderNotifications","filter","n","_n$info","sort","slice","notifications_Notification","headerStyle","TrainerDetail","_this$props$trainer","description","classes","trainerNameStyle","classType","Math","random","backgroundColor","formatToUniversalString","unformatedString","toLowerCase","replace","TrainerList","userCity","matchTrainersByCity","matchedTrainers","trainers_TrainerDetail","renderTrainersList","loaderStyle","textAlign","transform","Loader","Dashboard","dashboardContainerStyle","profile_Profile","notifications_Notifications","trainers_TrainerList","project_Loader","maxWidth","params","TrainingDetail","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","activateClasses","classesRef","innerText","classList","remove","add","orderedClasses","deactivateClasses","incrementDuration","cost","trainerClasses","newOrderedClasses","decrementDuration","_this2","trainingStyle","passOrderedClasses","DatePicker","setTrainingDate","minDate","toISOString","split","minHours","getHours","minMinutes","getMinutes","min","toString","TrainingList","correctDate","randClassTypeId","updatedOrderedClasses","deleteClasses","updatedClasses","c","reserveTraining","_this$props$match$par","trainerid","userid","years","parseInt","months","days","hours","mins","UTC","now","addTraining","goBack","_this$state2","training_TrainingDetail","oc","training_DatePicker","Footer","href","imgStyle","About","project_Footer","editProfile","currentUser","updateEmail","updatePassword","error","oldProfile","updatedProfile","EditProfile","_Component","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","profileData","profileLoaded","uploadProfile","inherits","createClass","_this$state$profileDa","EditTraining","approvedChecked","canceledChecked","resolveTraining","trainingId","editTraining","randTrainingId","trainingListStyle","_this$props$notificat","notifi","oldTraining","updatedInfo","updatedTraining","TrainerDescription","descUpdate","currentTarget","renderDescription","oldDescription","newDescription","textAreaStyle","defaultValue","changeDesc","editDescription","updatedDescription","editTrainerDescription","editClasses","oldClasses","TrainerClasses","newTraining","addTrainingsToState","trainings","deleteTraining","targetId","parentNode","renderTrainings","editTrainerClasses","EditPhoto","photo","photoReady","uploadProgress","redirect","onPhotoUpload","files","uploadTask","put","on","snapshot","progress","round","bytesTransferred","totalBytes","downloadURL","setTimeout","max","App","BrowserRouter","basename","project_Navbar","Switch","Route","exact","component","AuthPreloader","TrainingHistory","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initState","combindedReducers","combineReducers","trainingReducer","undefined","action","firebaseReducer","firestoreReducer","store","createStore","combinedReducers","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","reactReduxFirebase","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","render","es","src_App","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iRC0FlCC,EAAe,CACnBC,OAAQ,SAcKC,cANS,SAAAC,GACtB,MAAO,CACLC,KAAMD,EAAME,SAASD,OAPE,SAAAE,GACzB,MAAO,CACLC,QAAS,kBAAMD,EC5EV,SAACA,EAAUE,EAAXC,IACYC,EAD6BD,EAAlBC,eAGzBN,OACAG,UACAI,KAAK,WACJL,EAAS,CAAEM,KCZY,sBDcxBC,MAAM,SAAAC,GACLR,EAAS,CAAEM,KCdU,gBDcWE,eD4EzBZ,CAnGA,SAAAa,GAAuB,IAApBX,EAAoBW,EAApBX,KAAMG,EAAcQ,EAAdR,QACtB,OAAKH,EAAKY,IAIRC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,SAAU,WAAYC,OAAQ,MAC1CL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,8BACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,+BAAvB,sBAGAN,EAAAC,EAAAC,cAAA,MAAII,UAAU,8BACVnB,EAAKsB,QAiBH,KAhBFT,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACED,UAAU,MACVH,MAAOpB,EACPyB,GAAE,cAAAG,OAAgBxB,EAAKY,MAHzB,yBAQFC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMH,MAAOpB,EAAc6B,QAAStB,GAAtD,aAMNU,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAG,SACHF,UAAU,0DAEVN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,WAINN,EAAAC,EAAAC,cAAA,MACEI,UAAU,0CACVH,MAAO,CAAEU,MAAO,SAEhBb,EAAAC,EAAAC,cAAA,WACEf,EAAKsB,QAkCH,KAjCFT,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEW,QAAS,OAAQC,eAAgB,WAC7Cf,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACED,UAAU,MACVH,MAAsB,CAAEa,QAAS,SACjCR,GAAE,cAAAG,OAAgBxB,EAAKY,MAHzB,yBAQFC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEI,UAAU,MACVH,MAAsB,CAAEa,QAAS,SACjCJ,QAAStB,GAHX,YAQFU,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAG,SACHF,UAAU,0DAEVN,EAAAC,EAAAC,cAAA,KACEI,UAAU,sBACVH,MAAO,CAAEc,SAAU,WAFrB,cAnEMjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAUV,GAAG,0BG2D/BW,EAAqB,CACzBC,cAAe,aAQFnC,cALS,SAAAC,GACtB,MAAO,CACLmC,UAAWnC,EAAMoC,MAAMD,YAGZpC,CApEO,SAAAa,GAAmB,IAAhBuB,EAAgBvB,EAAhBuB,UACvB,OACErB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,8BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,UAAUH,MAAO,CAAEa,QAAS,IACzChB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OAAKqB,IAAKC,IAAcC,IAAI,oBAC5BzB,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cAAhB,yBACAN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAG,SACHF,UAAU,sEAEVN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,UAGJN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eAAeH,MAAOgB,GAClCE,EACCrB,EAAAC,EAAAC,cAAA,MAAII,UAAU,2BAAd,6JAKAN,EAAAC,EAAAC,cAAA,uEAKJF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAG,cACHF,UAAU,sDACVH,MAAO,CAAEuB,aAAc,SAHzB,iBAMQ,IACR1B,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAG,iBACHF,UAAU,uDACVH,MAAO,CAAEuB,aAAc,SAHzB,sBAUJ1B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAG,UAAUF,UAAU,sBAA7B,yCCoBCqB,EAzEO,SAAAC,GAAS,IACrBC,EAAuDD,EAAvDC,cAAeC,EAAwCF,EAAxCE,WAAYC,EAA4BH,EAA5BG,UAAWC,EAAiBJ,EAAjBI,MAAOC,EAAUL,EAAVK,MAErD,OACEjC,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,uFACAF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,WACdN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,kBACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,aACHvC,KAAK,OACLW,UAAU,WACV6B,SAAUN,EACVO,MAAON,IAET9B,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAS+B,QAAQ,cAAlC,eAIFrC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,kBACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,YACHvC,KAAK,OACLW,UAAU,WACV6B,SAAUN,EACVO,MAAOL,IAET/B,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAS+B,QAAQ,aAAlC,cAIFrC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,SACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,QACHvC,KAAK,QACLW,UAAU,WACV6B,SAAUN,EACVO,MAAOJ,IAEThC,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAS+B,QAAQ,SAAlC,UAIFrC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,SACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,QACHvC,KAAK,OACL2C,QAAQ,WACRC,YAAY,qBACZjC,UAAU,WACV6B,SAAUN,EACVO,MAAOH,IAETjC,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAS+B,QAAQ,SAAlC,qBCaNG,EAAkB,CACtB1B,QAAS,OACT2B,cAAe,SACfC,WAAY,aACZ3B,eAAgB,UAGH4B,EAnFO,SAAAf,GAAS,IACrBC,EAAiDD,EAAjDC,cAAee,EAAkChB,EAAlCgB,SAAUC,EAAwBjB,EAAxBiB,KAAMC,EAAkBlB,EAAlBkB,QAASC,EAASnB,EAATmB,KAE1CC,EACJhD,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cACfN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,OACHvC,KAAK,WACLwC,SAAUN,EACVoB,QAASF,EACTG,KAAK,gBAEPlD,EAAAC,EAAAC,cAAA,sBAGJF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cACfN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,UACHvC,KAAK,WACLwC,SAAUN,EACVoB,QAASH,EACTI,KAAK,gBAEPlD,EAAAC,EAAAC,cAAA,0BAMR,OACEF,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,uFACAF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,WACdN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,WACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,WACHvC,KAAK,WACLW,UAAU,WACV6B,SAAUN,EACVO,MAAOQ,IAET5C,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,wCAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACZ,IACDN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,iBACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,OACHvC,KAAK,OACLW,UAAU,WACV6B,SAAUN,EACVO,MAAOS,IAET7C,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,OAAO/B,UAAU,UAAhC,SAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBAAyBH,MAAOqC,GAC7CxC,EAAAC,EAAAC,cAAA,6CACC8C,eCmGEG,6MAtKbjE,MAAQ,CACNkE,OAAO,EACPC,aAAc,MAGhBC,oBAAsB,WACpB,IAAIF,GAAQ,EACRG,EAAWC,EAAKtE,MAAMmE,aAE1B,IAAK,IAAII,KAAKD,EAAK5B,MAAM8B,WACb,UAAND,GAAwB,UAANA,GAA8C,KAA7BD,EAAK5B,MAAM8B,WAAWD,KAC3DL,GAAQ,EACRG,EAAQ,GAAA5C,OAAAgD,OAAAC,EAAA,EAAAD,CAAOJ,GAAP,CAAiBE,KAGjB,aAANA,GAAoBD,EAAK5B,MAAM8B,WAAWD,GAAGI,OAAS,IACxDT,GAAQ,GAGVI,EAAKM,SAAS,CAAET,aAAcE,IAEhCC,EAAKM,SAAS,CAAEV,8FAIhBW,KAAKT,uDAGE,IAAAU,EAYHD,KAAKnC,MAZFqC,EAAAD,EAELN,WACE5B,EAHGmC,EAGHnC,WACAC,EAJGkC,EAIHlC,UACAC,EALGiC,EAKHjC,MACAC,EANGgC,EAMHhC,MACAW,EAPGqB,EAOHrB,SACAC,EARGoB,EAQHpB,KACAC,EATGmB,EASHnB,QAEFoB,EAXKF,EAWLE,aAXKC,EAcyBJ,KAAK7E,MAA7BkE,EAdDe,EAcCf,MAAOC,EAdRc,EAcQd,aAEf,OACErD,EAAAC,EAAAC,cAAA,QACEkE,SAAU,WACRF,MAGFlE,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAON,EACPI,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,eAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOL,EACPG,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,cAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOJ,EACPE,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,UAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOH,EACPC,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,iBAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOQ,EACPV,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,aAIFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOS,EACPX,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,UAKJN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEmE,UAAQ,EACRjC,MAAOU,EAAU,UAAY,OAC7BZ,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,WAAW/B,UAAU,UAApC,eAID8C,GAASR,EAASiB,OAAS,EAC1B7D,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,MAAII,UAAU,2BAAd,uDAGCsC,EAASiB,OAAS,EACjB7D,EAAAC,EAAAC,cAAA,MAAII,UAAU,2BAAd,8EAGE,KACJN,EAAAC,EAAAC,cAAA,UACGmD,EAAakB,IAAI,SAAAC,GAAK,OACrBxE,EAAAC,EAAAC,cAAA,MAAIuE,IAAKD,GAAQA,OAIrB,aAjKgBE,aC4EtBC,EAAgB,CACpBC,OAAQ,WAGKC,EAhFG,SAAA/E,GAA8B,IAA3BgF,EAA2BhF,EAA3BgF,KAAMC,EAAqBjF,EAArBiF,eAEzB,OAAQD,GACN,KAAK,EACH,OACE9E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qCACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,WACbN,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,oBAWV,KAAK,EACH,OACE3E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qCACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,WACbN,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,iBAOA3E,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,iBAWV,KAAK,EACH,OACE3E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qCACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,WACbN,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,iBAOA3E,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,cAOA3E,EAAAC,EAAAC,cAAA,QACEI,UAAU,aACVM,QAAS,kBAAMmE,EAAe,IAC9B5E,MAAOwE,GAHT,mBAWV,QACE,OAAO,OC/BPK,EAAc,CAClBhG,OAAQ,mBAEKiG,EA7CC,SAAArD,GAAS,IACfsD,EAA2CtD,EAA3CsD,SAAUC,EAAiCvD,EAAjCuD,SAAUjB,EAAuBtC,EAAvBsC,aAAcY,EAASlD,EAATkD,KAE1C,OAAa,IAATA,EAEA9E,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMM,QAASuE,EAAUhF,MAAO6E,GAAlD,QAEEhF,EAAAC,EAAAC,cAAA,KAAGI,UAAU,wBAAb,kBAGc,IAATwE,EAEP9E,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMM,QAASsE,EAAU/E,MAAO6E,GAAlD,YAEEhF,EAAAC,EAAAC,cAAA,KAAGI,UAAU,uBAAb,oBAEFN,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMM,QAASuE,EAAUhF,MAAO6E,GAAlD,QAEEhF,EAAAC,EAAAC,cAAA,KAAGI,UAAU,wBAAb,mBAIY,IAATwE,EAEP9E,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMM,QAASsE,EAAU/E,MAAO6E,GAAlD,YAEEhF,EAAAC,EAAAC,cAAA,KAAGI,UAAU,uBAAb,oBAEFN,EAAAC,EAAAC,cAAA,UACEI,UAAU,MACVM,QAAS,SAAAwE,GAAC,OAAIlB,EAAakB,IAC3BjF,MAAO6E,GAHT,cAMEhF,EAAAC,EAAAC,cAAA,KAAGI,UAAU,wBAAb,wBAbD,GCdH+E,6MACJnG,MAAQ,CACN4F,KAAM,EACNpB,WAAY,CACV5B,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,MAAO,GACPW,SAAU,GACVC,KAAM,GACNC,SAAS,EACTC,MAAM,MAIVmC,SAAW,WACT1B,EAAKM,SAAS,CACZgB,KAAMtB,EAAKtE,MAAM4F,KAAO,OAI5BK,SAAW,WACT3B,EAAKM,SAAS,CACZgB,KAAMtB,EAAKtE,MAAM4F,KAAO,OAI5BC,eAAiB,SAAAD,GAAI,OAEnBtB,EAAKM,SAAS,CACZgB,YAGJjD,cAAgB,SAAAuD,GACd,IAAM1B,EAAUC,OAAA2B,EAAA,EAAA3B,CAAA,GACXH,EAAKtE,MAAMwE,WADAC,OAAA4B,EAAA,EAAA5B,CAAA,GAEbyB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOpD,QAI1B,GAAoB,YAAhBgD,EAAEI,OAAOtD,IAAoC,SAAhBkD,EAAEI,OAAOtD,GAAe,CACvD,IAAMwB,EAAUC,OAAA2B,EAAA,EAAA3B,CAAA,GACXH,EAAKtE,MAAMwE,WADAC,OAAA4B,EAAA,EAAA5B,CAAA,GAEbyB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOvC,UAGV,YAAhBmC,EAAEI,OAAOtD,GACJwB,EAAWX,MAAQS,EAAKtE,MAAMwE,WAAWX,KACzCW,EAAWZ,SAAWU,EAAKtE,MAAMwE,WAAWZ,QAEjDU,EAAKM,SAAS,CAAEJ,oBAEhBF,EAAKM,SAAS,CAAEJ,kBAIpBQ,aAAe,SAAAkB,GACbA,EAAEK,iBADgB,IAGV/B,EAAeF,EAAKtE,MAApBwE,WAER,IAAK,IAAID,KAAKC,EACZ,GAAU,UAAND,GAAmC,KAAlBC,EAAWD,GAAW,OAGjB,KAAxBC,EAAWd,UAAmBc,EAAWd,SAASiB,OAAS,IAC/DL,EAAK5B,MAAM8D,QAAQhC,GACnBF,EAAK5B,MAAM+D,QAAQC,KAAK,SAG1BC,WAAa,WAAM,IACTnC,EAAeF,EAAKtE,MAApBwE,WADSoC,EAAAnC,OAAAoC,EAAA,EAAApC,QAAAoC,EAAA,EAAApC,CAAAH,IAGf3B,EAHeiE,EAGfjE,cAHemE,EAAAF,EAKf5G,MACE4F,EANakB,EAMblB,KACAZ,EAPa8B,EAOb9B,aAPa+B,EAAAD,EAQbtC,WACE5B,EATWmE,EASXnE,WACAC,EAVWkE,EAUXlE,UACAC,EAXWiE,EAWXjE,MACAC,EAZWgE,EAYXhE,MACAW,EAbWqD,EAaXrD,SACAC,EAdWoD,EAcXpD,KACAC,EAfWmD,EAeXnD,QACAC,EAhBWkD,EAgBXlD,KAKN,OAAQ+B,GAEN,KAAK,EACH,OACE9E,EAAAC,EAAAC,cAACgG,EAAD,CACErE,cAAeA,EACfC,WAAYA,EACZC,UAAWA,EACXC,MAAOA,EACPC,MAAOA,IAIb,KAAK,EACH,OACEjC,EAAAC,EAAAC,cAACiG,EAAD,CACEtE,cAAeA,EACfe,SAAUA,EACVC,KAAMA,EACNC,QAASA,EACTC,KAAMA,IAKZ,KAAK,EACH,OACE/C,EAAAC,EAAAC,cAACkG,EAAD,CAAe1C,WAAYA,EAAYQ,aAAcA,IAGzD,QACE,OAAO,+EAIJ,IAEIY,EAKPf,KALF7E,MAAS4F,KACTI,EAIEnB,KAJFmB,SACAC,EAGEpB,KAHFoB,SACAjB,EAEEH,KAFFG,aACAa,EACEhB,KADFgB,eAEF,OACE/E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBAAyBH,MAAO,CAAEC,SAAU,aACzDJ,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,gBAAgBH,MAAOkG,GAC5CrG,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,SAEFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACZ,IACDN,EAAAC,EAAAC,cAACoG,EAAD,CAAWxB,KAAMA,EAAMC,eAAgBA,IACtChB,KAAK8B,aACN7F,EAAAC,EAAAC,cAACqG,EAAD,CACEzB,KAAMA,EACNI,SAAUA,EACVC,SAAUA,EACVjB,aAAcA,aAnJLQ,aA2Jf2B,EAAkB,CACtBjG,SAAU,QACVoG,IAAK,IACLC,MAAO,IACPpG,OAAQ,GAcKpB,cAXS,SAAAC,GACtB,MAAO,CACLoC,MAAOpC,EAAMoC,QAGU,SAAAjC,GACzB,MAAO,CACLqG,QAAS,SAAA3C,GAAI,OAAI1D,EClLN,SAAA0D,GACb,OAAO,SAAC1D,EAAUE,EAAXO,GAAuD,IAAhCL,EAAgCK,EAAhCL,YACtBiH,GAAYC,EAD0C7G,EAAnB6G,gBAExBlH,IAGdN,OACAyH,+BAA+B7D,EAAKf,MAAOe,EAAKH,UAChDlD,KAAK,SAAAmH,GACJ,OAAOH,EACJI,WAAW/D,EAAKA,KAAO,QAAU,YACjCgE,IAAIF,EAAK9D,KAAKhD,KACdiH,IAHIrD,OAAA2B,EAAA,EAAA3B,CAAA,GAGKZ,EAHL,CAGWkE,UAAW,IAAIC,QAC9BxH,KAAK,WACAqD,EAAKA,KACP1D,EAAS,CACPM,KRfQ,WQgBRoD,SAEOA,EAAKD,SACdzD,EAAS,CACPM,KRjBW,cQkBXoD,aAKTnD,MAAM,SAAAC,GACLR,EAAS,CACPM,KR3BoB,iBQ4BpB0B,UAAWxB,EAAIsH,aDoJKzB,CAAQ3C,OAIvB9D,CAGboG,mBEpLI+B,6MACJlI,MAAQ,CACN8C,MAAO,GACPY,SAAU,GACVyE,YAAY,EACZC,yBAAyB,KAE3BC,IAAMC,IAAMC,cAEZ5F,cAAgB,SAAAuD,GACd5B,EAAKM,SAALH,OAAA4B,EAAA,EAAA5B,CAAA,GAAiByB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOpD,WAG1CsF,mBAAqB,WACO,aAA1BlE,EAAK+D,IAAII,QAAQhI,KACZ6D,EAAK+D,IAAII,QAAQhI,KAAO,OACxB6D,EAAK+D,IAAII,QAAQhI,KAAO,cAG/BuE,aAAe,SAAAkB,GACbA,EAAEK,iBAGF,IAAMmC,EAAYpE,EAAKtE,MAAM8C,MACvB6F,EAAerE,EAAKtE,MAAM0D,SAG1BkF,EAAQ,GAAAnH,OAAAgD,OAAAC,EAAA,EAAAD,CAAOH,EAAK5B,MAAMN,OAAlBqC,OAAAC,EAAA,EAAAD,CAA4BH,EAAK5B,MAAMmG,WAE/CC,EAAcF,EAChBA,EAASG,KAAK,SAAAC,GACZ,OACEN,IAAcM,EAAQlG,OAAS6F,IAAiBK,EAAQtF,WAG5D,KAEJ,GAAKoF,EAAL,CAKA,KACGA,EAAYlF,SAAqC,mBAA1BU,EAAK5B,MAAMuG,MAAMC,MACxCJ,EAAYjF,MAAkC,gBAA1BS,EAAK5B,MAAMuG,MAAMC,MAStC,OAFA5E,EAAKM,SAAS,CAAEwD,yBAAyB,IAElCe,QAAQC,IACb,0EARF,IAAMpG,EAAK8F,EAAY9F,GAEvBsB,EAAK5B,MAAM2G,OAAO/E,EAAKtE,OACvBsE,EAAK5B,MAAM+D,QAAQC,KAAnB,cAAAjF,OAAsCuB,IAQxCsB,EAAKM,SAAS,CAAE9B,MAAO,GAAIY,SAAU,UAnBnCY,EAAKM,SAAS,CAAEuD,YAAY,6EAsBvB,IAAAlD,EAC0DJ,KAAK7E,MAA9D8C,EADDmC,EACCnC,MAAOY,EADRuB,EACQvB,SAAUyE,EADlBlD,EACkBkD,WAAYC,EAD9BnD,EAC8BmD,wBAC7Bc,EAASrE,KAAKnC,MAAMuG,MAApBC,KACA/G,EAAc0C,KAAKnC,MAAnBP,UACR,OACErB,EAAAC,EAAAC,cAAA,OAAKC,MAAOqI,GACVxI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,wBACbN,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAEsI,WAAY,OAAQC,UAAW,MAChC,gBAATN,EACG,6BACA,gCAENpI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,UAAU8D,SAAUL,KAAKG,cACvClE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,QACHvC,KAAK,QACLW,UAAU,cACV8B,MAAOJ,EACPG,SAAU4B,KAAKlC,cACfyC,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,SAAf,UAGFrC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACZ,IACDN,EAAAC,EAAAC,cAAA,SACEqH,IAAKxD,KAAKwD,IACVrF,GAAG,WACHvC,KAAK,WACLW,UAAU,aACV8B,MAAOQ,EACPT,SAAU4B,KAAKlC,cACfyC,UAAQ,IACP,IACHtE,EAAAC,EAAAC,cAAA,KACEC,MAAO,CAAEyE,OAAQ,WACjBtE,UAAU,iCACVM,QAASmD,KAAK2D,oBAHhB,kBAOA1H,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,YAAf,cAGJrC,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,MAAMH,MAAO6E,GAApC,aAGAhF,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMX,KAAK,SAASQ,MAAO6E,GAA7C,WAGC3D,EACCrB,EAAAC,EAAAC,cAAA,MAAII,UAAU,iCAAiCe,GAC7C,KACHgG,EACCrH,EAAAC,EAAAC,cAAA,MAAII,UAAU,iCAAd,sDAGE,KACHgH,EACCtH,EAAAC,EAAAC,cAAA,MAAII,UAAU,iCAAd,wDAGE,gBA9HGoE,aAuIfM,EAAc,CAClBhG,OAAQ,UAGJwJ,EAAU,CACdG,gBACE,wKACFvI,SAAU,WACVoG,IAAK,IACLoC,KAAM,IACN/H,MAAO,OACPgI,OAAQ,QACR7J,OAAQ,IACRgC,QAAS,IACT8H,mBAAoB,SACpBC,eAAgB,SAqBHC,cACb/J,YAnBsB,SAAAC,GACtB,IAAM6I,EAAW7I,EAAMwH,UAAUuC,QAAQlB,SAIzC,MAAO,CACLzG,MAJYpC,EAAMwH,UAAUuC,QAAQ3H,MAKpCyG,WACA1G,UALgBnC,EAAMC,KAAKkC,YASJ,SAAAhC,GACzB,MAAO,CACLkJ,OAAQ,SAAAW,GAAK,OAAI7J,GV3KC8J,EU2KeD,EV1K5B,SAAC7J,EAAUE,EAAXO,IACYL,EAD6BK,EAAlBL,eAIzBN,OACAiK,2BAA2BD,EAAYnH,MAAOmH,EAAYvG,UAC1DlD,KAAK,WACJL,EAAS,CAAEM,KCAU,oBDEtBC,MAAM,SAAAC,GACLR,EAAS,CAAEM,KCFQ,cDEWE,aAXhB,IAAAsJ,MUqLpBE,2BAAiB,CAAC,CAAEvC,WAAY,SAAW,CAAEA,WAAY,cAN5CkC,CAOb5B,oBCpLEkC,wBAAS,CACXC,OAF2BC,iEAArBC,iBAGNC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,kBAGrB1K,IAAS2K,cAAcT,GACvBlK,IAASsH,YAAYsD,SAAS,CAAEC,uBAAuB,IAEvD,IAAIC,EAAU9K,IAAS8K,4BCbjBC,6MACJjL,MAAQ,CAAEkL,IAAK,MACfC,mBAAqB,WAAM,IAAArG,EACMR,EAAK5B,MAA5B0I,EADiBtG,EACjBsG,UAER,OAHyBtG,EACNkE,QAEJnF,KACb/C,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,oBAAAG,OAAsB2J,IAC5BtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,0BAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,gBAAAG,OAAkB2J,IACxBtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,kBAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,cAAAG,OAAgB2J,IACtBtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,yBAIJvK,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,oBAAAG,OAAsB2J,IAC5BtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,0BAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,gBAAAG,OAAkB2J,IACxBtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,kBAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,cAAAG,OAAgB2J,IACtBtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,wBAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,uBAAAG,OAAyB2J,IAC/BtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,kCAEFvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,mBAAAG,OAAqB2J,IAC3BtK,EAAAC,EAAAC,cAAA,MAAIC,MAAOoK,GAAX,kCAcRC,eAAiB,WAAM,IACbzK,EAAQyD,EAAK5B,MAAb7B,IAGF0K,EAAaP,EAAQ3C,MAC3B,GAAIxH,EACF,OAAO0K,EACJC,MADI,iBAAA/J,OACmBZ,IACvB4K,iBACAjL,KAAK,SAAA0K,GACJ5G,EAAKM,SAAS,CAAEsG,UAEjBxK,MAAM,SAAAC,GAGL2D,EAAKM,SAAS,CAAEsG,IAAKQ,4FAtB3B7G,KAAKyG,8DAGAzG,KAAK7E,MAAMkL,KACdrG,KAAKyG,kDAwBP,GAAIzG,KAAKnC,MAAMsG,QAAS,KAAA2C,EACkB9G,KAAKnC,MAAMsG,QAA3CpG,EADc+I,EACd/I,WAAYC,EADE8I,EACF9I,UAAWc,EADTgI,EACShI,KACvBqF,EAAYnE,KAAKnC,MAAjBsG,QACAkC,EAAQrG,KAAK7E,MAAbkL,IAER,OACEpK,EAAAC,EAAAC,cAAA,OACEI,UACE4H,EAAQnF,KACJ,yCACA,2CAGN/C,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eAAeH,MAAO2K,IACnC9K,EAAAC,EAAAC,cAAA,OACEqB,IAAK6I,EACL9J,UAAU,gBACVmB,IAAI,iBACJtB,MAAO4K,KAIX/K,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,UACG4B,EADH,IACgBC,GAEhB/B,EAAAC,EAAAC,cAAA,UACG2C,EACEmI,OAAO,GACPC,cACAtK,OAAOkC,EAAKqI,OAAO,IACnBC,SAGNpH,KAAKsG,sBAIV,OAAO,YAzGS3F,aA8GhBqG,EAAc,CAClBlK,MAAO,MACPC,QAAS,QACT9B,OAAQ,UAGJuL,EAAuB,CAC3Ba,WAAY,QAGRN,GAAkB,CACtB9J,QAAS,SACTqK,aAAc,kBAGDlB,0BC4BTmB,GAAY,CAChBC,MAAO,WAGHC,GAAoB,CACxBC,OAAQ,iBACRzK,QAAS,OACThC,OAAQ,UAGJ0M,GAAwB,CAC5BH,MAAO,WAGHI,GAAuB,CAC3BJ,MAAO,WAGHK,GAAwB,CAC5BL,MAAO,WAiBMvC,eACb/J,YAhBsB,SAACC,EAAO2M,GAC9B,GAAI3M,EAAMwH,UAAUoF,KAAK/D,SAAS8D,EAASvB,WAAY,CACrD,IAAMyB,EAASF,EAASG,aAAaC,KAAKF,OAI1C,MAAO,CAAEjK,WAHU5C,EAAMwH,UAAUoF,KAAKxK,MAAMyK,GAAQjK,WAGjCC,UAFH7C,EAAMwH,UAAUoF,KAAKxK,MAAMyK,GAAQhK,WAGhD,GAAI7C,EAAMwH,UAAUoF,KAAKxK,MAAMuK,EAASvB,WAAY,CACzD,IAAM4B,EAAYL,EAASG,aAAaC,KAAKC,UAG7C,MAAO,CAAEpK,WAFU5C,EAAMwH,UAAUoF,KAAK/D,SAASmE,GAAWpK,WAEvCC,UADH7C,EAAMwH,UAAUoF,KAAK/D,SAASmE,GAAWnK,cAO7DsH,2BAAiB,CACf,CAAEvC,WAAY,SACd,CAAEA,WAAY,YACd,CAAEA,WAAY,mBALHkC,CA3LM,SAAApH,GAAS,IAAAuK,EAMxBvK,EAAMoK,aANkBI,EAAAD,EAE1BF,KAAQI,EAFkBD,EAElBC,eAAgBC,EAFEF,EAEFE,KAAMC,EAFJH,EAEIG,KAC9BC,EAH0BL,EAG1BK,SACAtK,EAJ0BiK,EAI1BjK,GACA+E,EAL0BkF,EAK1BlF,UAGMnF,EAA0CF,EAA1CE,WAAYC,EAA8BH,EAA9BG,UAAWmG,EAAmBtG,EAAnBsG,QAASC,EAAUvG,EAAVuG,MAElCsE,EAAqB,WACzB,OAAOD,EAASjI,IAAI,SAACmI,EAAGC,GACtB,OAAO3M,EAAAC,EAAAC,cAAA,QAAMuE,IAAKkI,GAAQD,EAAExJ,KAArB,SAIL0J,EAAqB,WAEzB,OADgBJ,EAASjI,IAAI,SAAAmI,GAAC,OAAIA,EAAEG,YACnBC,OAAO,SAAC7M,EAAG8M,GAC1B,OAAO9M,EAAI8M,GACV,IAGCC,EAAyB,WAE7B,OADoBR,EAASjI,IAAI,SAAAmI,GAAC,OAAIA,EAAEO,WACnBH,OAAO,SAAC7M,EAAG8M,GAC9B,OAAO9M,EAAI8M,GACV,IAGCG,EAAoB,kBAAMC,KAAOlG,EAAUmG,UAAUC,YAE3D,OAAQhB,GACN,IAAK,UACH,OACErM,EAAAC,EAAAC,cAAA,MAAIC,MAAOqL,IACTxL,EAAAC,EAAAC,cAAA,UAEGgI,EAAQpF,SAAWqF,EAClBnI,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAE,iBAAAG,OAAmBuB,GAAM/B,MAAOmL,IACrC,IADH,qCAEgCxJ,EAFhC,IAE6CC,GAH9C,wCAAApB,OAM+BmB,EAN/B,KAAAnB,OAM6CoB,IAGhD/B,EAAAC,EAAAC,cAAA,mBACU,IACRF,EAAAC,EAAAC,cAAA,QAAMC,MAAOwL,IAAb,4BACA3L,EAAAC,EAAAC,cAAA,KAAGI,UAAU,uBAAuBH,MAAOwL,IAA3C,UAIF3L,EAAAC,EAAAC,cAAA,iBACQ,IACNF,EAAAC,EAAAC,cAAA,QAAMC,MAAOwL,IACVY,EADH,MACYD,IAGdtM,EAAAC,EAAAC,cAAA,gCACa,IACXF,EAAAC,EAAAC,cAAA,QAAMC,MAAOwL,IAAuBc,MAEtCzM,EAAAC,EAAAC,cAAA,iCACwB,IACtBF,EAAAC,EAAAC,cAAA,QAAMC,MAAOwL,IACViB,IADH,cAC+BI,IAD/B,SAIFhN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,4BAAb,yBACyB,IACvBN,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAAEW,QAAS,UAAYoM,OAI5C,IAAK,WACH,OACElN,EAAAC,EAAAC,cAAA,MAAIC,MAAOqL,IACTxL,EAAAC,EAAAC,cAAA,qCACwB4B,EADxB,IACqCC,GAErC/B,EAAAC,EAAAC,cAAA,oBACUF,EAAAC,EAAAC,cAAA,QAAMC,MAAOuL,IAAb,kBACR1L,EAAAC,EAAAC,cAAA,KAAGI,UAAU,uBAAuBH,MAAOuL,IAA3C,aAIF1L,EAAAC,EAAAC,cAAA,iBACQ,IACNF,EAAAC,EAAAC,cAAA,QAAMC,MAAOuL,IACVa,EADH,MACYD,IAGdtM,EAAAC,EAAAC,cAAA,gCACa,IACXF,EAAAC,EAAAC,cAAA,QAAMC,MAAOuL,IAAwBe,MAEvCzM,EAAAC,EAAAC,cAAA,iCACwB,IACtBF,EAAAC,EAAAC,cAAA,QAAMC,MAAOuL,IACVkB,IADH,cAC+BI,IAD/B,SAIFhN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,4BAAb,yBACyB,IACvBN,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAAEW,QAAS,UAAYoM,OAI5C,IAAK,WACH,OACElN,EAAAC,EAAAC,cAAA,MAAIC,MAAOqL,IACTxL,EAAAC,EAAAC,cAAA,uCACwB4B,EADxB,IACqCC,GAErC/B,EAAAC,EAAAC,cAAA,mBACU,IACRF,EAAAC,EAAAC,cAAA,QAAMC,MAAOyL,IAAb,6BACA5L,EAAAC,EAAAC,cAAA,KAAGI,UAAU,uBAAuBH,MAAOyL,IAA3C,cAIF5L,EAAAC,EAAAC,cAAA,iBACQ,IACNF,EAAAC,EAAAC,cAAA,QAAMC,MAAOyL,IACVW,EADH,MACYD,IAGdtM,EAAAC,EAAAC,cAAA,gCACa,IACXF,EAAAC,EAAAC,cAAA,QAAMC,MAAOyL,IAAwBa,MAEvCzM,EAAAC,EAAAC,cAAA,iCACwB,IACtBF,EAAAC,EAAAC,cAAA,QAAMC,MAAOyL,IACVgB,IADH,cAC+BI,IAD/B,SAIFhN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,4BAAb,yBACyB,IACvBN,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAAEW,QAAS,UAAYoM,OAK5C,QACE,OAAOlN,EAAAC,EAAAC,cAAA,4BClJPoN,8MACJpO,MAAQ,CACNqO,cAAe,MAIjBC,mBAAqB,IAErBC,oBAAsB,WAAM,IAAAzJ,EAC2BR,EAAK5B,MAAlD0I,EADkBtG,EAClBsG,UAAWpC,EADOlE,EACPkE,QAASqF,EADFvJ,EACEuJ,cAAepF,EADjBnE,EACiBmE,MAsB3C,OAnB8BoF,EAC1B5J,OAAAC,EAAA,EAAAD,CACK4J,EAAcG,OAAO,SAAAC,GAAK,IAAAC,EACGD,EAAE1B,KAAxBF,EADmB6B,EACnB7B,OAAQG,EADW0B,EACX1B,UAChB,OAAOH,IAAWzB,GAAa4B,IAAc5B,KAI9CuD,KAAK,SAAC5N,EAAG8M,GACR,OAAI9M,EAAEgH,UAAY8F,EAAE9F,WACV,EAED,IAIV6G,MAAM,EAAGtK,EAAKgK,oBACjB,MAEyBjJ,IAAI,SAAAyH,GAC/B,OACEhM,EAAAC,EAAAC,cAAC6N,GAAD,CACE7F,QAASA,EACT8D,aAAcA,EACdvH,IAAKuH,EAAa9J,GAClBoI,UAAWA,EACXnC,MAAOA,+EAOb,GAAIpE,KAAKnC,MAAM2L,cAAe,KACpBrF,EAAYnE,KAAKnC,MAAjBsG,QACR,OAEElI,EAAAC,EAAAC,cAAA,OACEI,UACE4H,EAAQnF,KACJ,yCACA,4CAGN/C,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,oBAAoBH,MAAO6N,IAAzC,kCAGAhO,EAAAC,EAAAC,cAAA,UAAK6D,KAAK0J,0BAMlB,OAAO,YAnEe/I,aAuEtBsJ,GAAc,CAAEhP,OAAQ,UAUfgK,eACb/J,YATsB,SAAAC,GAGtB,MAAO,CACLqO,cAHkBrO,EAAMwH,UAAUuC,QAAQsE,iBAS5ClE,2BAAiB,CACf,CACEvC,WAAY,mBAJHkC,CAObsE,IC1FIW,8MACJ/O,MAAQ,CAAEkL,IAAK,MAMfI,eAAiB,WAAM,IACbtI,EAAOsB,EAAK5B,MAAMkB,QAAlBZ,GAIR,OADmBgI,EAAQ3C,MAExBmD,MADI,iBAAA/J,OACmBuB,IACvByI,iBACAjL,KAAK,SAAA0K,GACJ5G,EAAKM,SAAS,CAAEsG,UAEjBxK,MAAM,SAAAC,GAEL2D,EAAKM,SAAS,CAAEsG,IAAKQ,4FAhBzB7G,KAAKyG,kDAmBE,IAAA0D,EAOHnK,KAAKnC,MAAMkB,QALbhB,EAFKoM,EAELpM,WACAC,EAHKmM,EAGLnM,UACAoM,EAJKD,EAILC,YACAC,EALKF,EAKLE,QACAlM,EANKgM,EAMLhM,GAGMkI,EAAQrG,KAAK7E,MAAbkL,IACA2B,EAAWhI,KAAKnC,MAAhBmK,OAGR,OACE/L,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OAAKqB,IAAK6I,EAAK3I,IAAI,mBACnBzB,EAAAC,EAAAC,cAAA,QAAMI,UAAU,wBAAwBH,MAAOkO,IAC5CvM,EADH,IACgBC,GAEhB/B,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAE,gBAAAG,OAAkBuB,EAAlB,KAAAvB,OAAwBoL,GAC1BzL,UAAU,+DAEVN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,eAGJN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,SACGiO,GAA4B,wCAGjCnO,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,yBACW,IACRkO,EACGA,EAAQ7J,IAAI,SAAA+J,GACV,OACEtO,EAAAC,EAAAC,cAAA,QAAMuE,IA5BM8J,KAAKC,UA4BcF,EAAUpL,KAAzC,QAGJ,kDAjEUwB,aA0EtB2J,GAAmB,CACvBI,gBAAiB,wBACjB5N,MAAO,QAEMoN,MChFTS,GAA0B,SAAAC,GAO9B,OANuBA,EACpBC,cACAC,QAAQ,iBAAQ,KAChBA,QAAQ,WAAO,KACfA,QAAQ,SAAO,KACf1D,QAyCC6C,GAAc,CAAEhP,OAAQ,UACf8P,GAtCK,SAAAhP,GAAoC,IAAjCiI,EAAiCjI,EAAjCiI,SAAUgE,EAAuBjM,EAAvBiM,OAAQgD,EAAejP,EAAfiP,SAIjCC,EAAsB,WAC1B,OAAOjH,EAAS2F,OAAO,SAAA5K,GAGrB,OAFiB4L,GAAwB5L,EAAQD,QACnC6L,GAAwBK,MAKpCE,EAAetL,OAAAC,EAAA,EAAAD,CAAOqL,KAQ5B,OACEhP,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0CACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,SAASH,MAAO6N,IAA9B,uCApBFgB,IAAsBnL,OAAS,EAYN,SAAAkE,GACzB,OAAOA,EAASxD,IAAI,SAAAzB,GAAO,OACzB9C,EAAAC,EAAAC,cAACgP,GAAD,CAAezK,IAAK3B,EAAQZ,GAAIY,QAASA,EAASiJ,OAAQA,MAUxDoD,CAAmBF,GAEnBjP,EAAAC,EAAAC,cAAA,MAAII,UAAU,kCAAd,2GCgBF8O,GAAc,CAClBhP,SAAU,QACVC,OAAQ,EACRgP,UAAW,SACX7I,IAAK,MACLoC,KAAM,MACN0G,UAAW,wBAEEC,GA/DA,WACb,OACEvP,EAAAC,EAAAC,cAAA,OAAKI,UAAU,mBAAmBH,MAAOiP,IACvCpP,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sDACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,8BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,wBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAInBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,6BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,wBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAInBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gCACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,wBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAInBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,+BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAEjBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,wBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cAGd,MC5CPkP,oLACK,IAAAxL,EAQHD,KAAKnC,MANPmG,EAFK/D,EAEL+D,SACAG,EAHKlE,EAGLkE,QACAoC,EAJKtG,EAILsG,UACAiD,EALKvJ,EAKLuJ,cACApF,EANKnE,EAMLmE,MACAhJ,EAPK6E,EAOL7E,KAIF,OAAK4I,GAAaG,GAAYoC,GAAciD,EAIxCvN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YAAYH,MAAOsP,IAChCzP,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAACwP,GAAD,CAASxH,QAASA,EAASoC,UAAWA,EAAWvK,IAAKZ,EAAKY,MAC3DC,EAAAC,EAAAC,cAACyP,GAAD,CACErF,UAAWA,EACXpC,QAASA,EACTC,MAAOA,IAERD,EAAQnF,KACP/C,EAAAC,EAAAC,cAAC0P,GAAD,CACE7H,SAAUA,EACVgE,OAAQzB,EACRyE,SAAU7G,EAAQrF,OAElB,OAjBH7C,EAAAC,EAAAC,cAAC2P,GAAD,aAbWnL,aAsClB+K,GAA0B,CAC9BK,SAAU,SACVjP,MAAO,OAqBMmI,eACb/J,YAnBsB,SAACC,EAAO2M,GAC9B,IAAM3J,EAAK2J,EAAS1D,MAAM4H,OAAO7N,GAC3BZ,EAAQpC,EAAMwH,UAAUoF,KAAKxK,MAC7ByG,EAAW7I,EAAMwH,UAAUoF,KAAK/D,SAChCwF,EAAgBrO,EAAMwH,UAAUoF,KAAKyB,cACrCzF,EAAQnE,OAAA2B,EAAA,EAAA3B,CAAA,GAAQrC,EAAUyG,GAIhC,MAAO,CACLG,QAHcJ,EAAWA,EAAS5F,GAAM,KAIxCoI,UAAWpI,EACX6F,SAAU7I,EAAMwH,UAAUuC,QAAQlB,SAClCwF,gBACApO,KAAMD,EAAME,SAASD,QAMvBkK,2BAAiB,CACf,CAAEvC,WAAY,SACd,CAAEA,WAAY,YACd,CAAEA,WAAY,mBALHkC,CAObwG,IC3EIQ,eACJ,SAAAA,EAAYpO,GAAO,IAAA4B,EAAA,OAAAG,OAAAsM,EAAA,EAAAtM,CAAAI,KAAAiM,IACjBxM,EAAAG,OAAAuM,EAAA,EAAAvM,CAAAI,KAAAJ,OAAAwM,EAAA,EAAAxM,CAAAqM,GAAAI,KAAArM,KAAMnC,KAWRyO,gBAAkB,WAChB,IAAM9I,EAAM/D,EAAK8M,WAAW3I,QACtBzE,EAAOqE,EAAIgJ,UACjBhJ,EAAIiJ,UAAUC,OAAO,cACrBlJ,EAAIiJ,UAAUE,IAAI,cAClBnJ,EAAIiJ,UAAUE,IAAI,kBAClB,IAAMC,EAAchN,OAAA2B,EAAA,EAAA3B,CAAA,GAAQH,EAAKtE,MAAMyR,eAAnB,CAAmCzN,SACvDM,EAAKM,SAAS,CAAE6M,oBAnBCnN,EAwBnBoN,kBAAoB,WAClB,IAAMrJ,EAAM/D,EAAK8M,WAAW3I,QAC5BJ,EAAIiJ,UAAUE,IAAI,cAClBnJ,EAAIiJ,UAAUC,OAAO,cACrB,IAAME,EAAchN,OAAA2B,EAAA,EAAA3B,CAAA,GACfH,EAAKtE,MAAMyR,eADI,CAElBzN,KAAM,GACN+J,SAAU,EACVJ,UAAW,IAEbrJ,EAAKM,SAAS,CAAE6M,oBAlCCnN,EAuCnBqN,kBAAoB,WAAM,IAChBC,EAAStN,EAAK5B,MAAMmP,eAApBD,KACAH,EAAmBnN,EAAKtE,MAAxByR,eAER,GAAKA,EAAezN,KAApB,CAEA,IAAI+J,EAAW0D,EAAe1D,SAC1BJ,EAAY8D,EAAe9D,UAC/BA,GAAaiE,EACb7D,GAAY,GAIZ,IAAM+D,EAAiBrN,OAAA2B,EAAA,EAAA3B,CAAA,GAClBgN,EADkB,CAErB1D,WACAJ,cAGFrJ,EAAKM,SAAS,CAAE6M,eAAgBK,MA1DfxN,EA+DnByN,kBAAoB,WAAM,IAChBH,EAAStN,EAAK5B,MAAMmP,eAApBD,KACAH,EAAmBnN,EAAKtE,MAAxByR,eACJ1D,EAAW0D,EAAe1D,SAC1BJ,EAAY8D,EAAe9D,UAC/BA,GAAaiE,EACb7D,GAAY,GAEZ,IAAM+D,EAAiBrN,OAAA2B,EAAA,EAAA3B,CAAA,GAClBgN,EADkB,CAErB1D,WACAJ,cAGFrJ,EAAKM,SAAS,CAAE6M,eAAgBK,KA3EhCxN,EAAK8M,WAAa9I,IAAMC,YACxBjE,EAAKtE,MAAQ,CACXyR,eAAgB,CACdzN,KAAM,GACN+J,SAAU,EACVJ,UAAW,IAPErJ,wEAkFV,IAAA0N,EAAAnN,KACCgN,EAAmBhN,KAAKnC,MAAxBmP,eADD5M,EAKHJ,KAAK7E,MAFPyR,EAHKxM,EAGLwM,eACkB9D,EAJb1I,EAILwM,eAAkB9D,UAGpB,OACE7M,EAAAC,EAAAC,cAAA,OACEI,UAAU,+BACVH,MAAKwD,OAAA2B,EAAA,EAAA3B,CAAA,GAAOwN,GAAP,CAAsB1O,cAAe,YAE1CzC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAiBH,MAAOgR,IACrCnR,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEI,UACEqQ,EAAezN,KACX,mDACA,2DAEN/C,MAAOpB,GACP6B,QAASmD,KAAK6M,mBAEd5Q,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,WAGFN,EAAAC,EAAAC,cAAA,UACEI,UAAU,6DACVH,MAAOpB,GACP6B,QAASmD,KAAKsM,iBAEdrQ,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,SAIJN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,8BAA8BiH,IAAKxD,KAAKuM,YAClDS,EAAe7N,OAIpBlD,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAiBH,MAAOgR,IACrCnR,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEI,UACEqQ,EAAe1D,SAAW,EACtB,mDACA,2DAEN9M,MAAOpB,GACP6B,QAASmD,KAAKkN,mBAEdjR,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,WAEFN,EAAAC,EAAAC,cAAA,UACEI,UACEqQ,EAAezN,KACX,8DACA,sEAEN/C,MAAOpB,GACP6B,QAASmD,KAAK8M,mBAEd7Q,EAAAC,EAAAC,cAAA,KAAGI,UAAU,kBAAb,SAGJN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,+BACVqQ,EAAe1D,SADlB,QAKFjN,EAAAC,EAAAC,cAAA,OACEI,UAAU,yCACVH,MAAOgR,IAEPnR,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,cACXN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,kBAAhB,kBACAN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,YAAYH,MAAO,CAAEa,QAAS,WAC3C2P,EAAe9D,aAItB7M,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEI,UAAS,OAAAK,OACPgQ,EAAezN,MAAQyN,EAAe1D,SAAW,EAC7C,GACA,YAENrM,QAAS,kBACPsQ,EAAKtP,MAAMwP,mBAAmBT,EAAgB9D,KAPlD,4BAtKiBnI,aAyLvByM,GAAgB,CACpBrQ,QAAS,OACTC,eAAgB,gBAChB2B,WAAY,SACZ1D,OAAQ,UAGJD,GAAe,CACnBC,OAAQ,OACR6B,MAAO,QAGMmP,MCpJAqB,GAjDI,SAAAvR,GAAkD,IAA/CwR,EAA+CxR,EAA/CwR,gBAAiBhF,EAA8BxM,EAA9BwM,KAAMC,EAAwBzM,EAAxByM,KAAM4B,EAAkBrO,EAAlBqO,YAC3CoD,GAAU,IAAIrK,MAAOsK,cAAcC,MAAM,KAAK,GAC9CC,GAAW,IAAIxK,MAAOyK,WACtBC,GAAa,IAAI1K,MAAO2K,aAE9B,OACE7R,EAAAC,EAAAC,cAAA,QAAMI,UAAU,WACdN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,SACEP,KAAK,OACLmS,IAAKP,EACLhP,YAAY,cACZL,GAAG,OACHoC,UAAQ,EACRnC,SAAUmP,EACVlP,MAAOkK,IACN,IACHtM,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,QAAf,sBAEFrC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,SACEP,KAAK,OACL4C,YAAY,cACZL,GAAG,OACHC,SAAUmP,EACVlP,MAAOmK,EACPuF,IAAK,GAAAnR,OAAG+Q,EAAH,KAAA/Q,OAAeiR,GAAaG,WACjCzN,UAAQ,IAEVtE,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,QAAf,yBAEFrC,EAAAC,EAAAC,cAAA,OACEI,UAAU,sBACVH,MAAO,CAAEnB,OAAQ,SAAUgC,QAAS,WAEpChB,EAAAC,EAAAC,cAAA,YACEgC,GAAG,cACH5B,UAAU,uBACV8B,MAAO+L,EACPhM,SAAUmP,IAEZtR,EAAAC,EAAAC,cAAA,SAAOmC,QAAQ,eAAf,4ECnCF2P,8MACJ9S,MAAQ,CACN2N,UAAW,EACX8D,eAAgB,GAChBrE,KAAM,GACNC,KAAM,GACN4B,YAAa,GACb8D,aAAa,KAGfX,gBAAkB,SAAAlM,GAChB5B,EAAKM,SAALH,OAAA4B,EAAA,EAAA5B,CAAA,GAAiByB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOpD,WAG1C8P,gBAAkB,kBAAM3D,KAAKC,YAG7B4C,mBAAqB,SAACT,EAAgB9D,GACpC,IAAMsF,EAAqB,GAAAxR,OAAAgD,OAAAC,EAAA,EAAAD,CACtBH,EAAKtE,MAAMyR,gBADW,CAEzBA,IAGFnN,EAAKM,SAAS,CACZ6M,eAAgBwB,EAChBtF,UAAWrJ,EAAKtE,MAAM2N,UAAYA,OAItCuF,cAAgB,SAAClQ,EAAI2K,GACnB,IAAMwF,EAAiB7O,EAAKtE,MAAMyR,eAAejD,OAAO,SAAC4E,EAAG3F,GAC1D,OAAOA,IAAUzK,IAEnBsB,EAAKM,SAAS,CACZ6M,eAAehN,OAAAC,EAAA,EAAAD,CAAK0O,GACpBxF,UAAWrJ,EAAKtE,MAAM2N,UAAYA,OAKtC0F,gBAAkB,WAAM,IAAAC,EACQhP,EAAK5B,MAAMuG,MAAM4H,OAAvC0C,EADcD,EACdC,UAAWC,EADGF,EACHE,OADGvO,EAEcX,EAAKtE,MAAjCoN,EAFcnI,EAEdmI,KAAMC,EAFQpI,EAERoI,KAAM4B,EAFEhK,EAEFgK,YACd3B,EAAWhJ,EAAKtE,MAAMyR,eAEtB1E,EAAO,GAEbA,EAAKC,UAAYuG,EACjBxG,EAAKF,OAAS2G,EAEdzG,EAAKI,eAAiB,UAEtBJ,EAAKK,KAAOA,EACZL,EAAKM,KAAOA,EAEZN,EAAKkC,YAAcA,EAEnB,IAAMwE,EAAQC,SAAS3G,EAAKK,KAAKmF,MAAM,KAAK,IACtCoB,EAASD,SAAS3G,EAAKK,KAAKmF,MAAM,KAAK,IACvCqB,EAAOF,SAAS3G,EAAKK,KAAKmF,MAAM,KAAK,IACrCsB,EAAQH,SAAS3G,EAAKM,KAAKkF,MAAM,KAAK,IACtCuB,EAAOJ,SAAS3G,EAAKM,KAAKkF,MAAM,KAAK,IAG3BvK,KAAK+L,IAAIN,EAAOE,EAAS,EAAGC,EAAMC,EAAQ,EAAGC,EAAM,EAAG,GAExD9L,KAAKgM,MACjB1P,EAAKM,SAAS,CAAEmO,aAAa,KAG7BzO,EAAKM,SAAS,CAAEmO,aAAa,IAC7BzO,EAAK5B,MAAMuR,YAAY3G,EAAUP,GACjCzI,EAAK5B,MAAM+D,QAAQyN,mFAId,IAAAlC,EAAAnN,KACP,GAAIA,KAAKnC,MAAMmP,eAAgB,KAAAsC,EAQzBtP,KAAK7E,MANP2N,EAF2BwG,EAE3BxG,UACA8D,EAH2B0C,EAG3B1C,eACArE,EAJ2B+G,EAI3B/G,KACAC,EAL2B8G,EAK3B9G,KACA4B,EAN2BkF,EAM3BlF,YACA8D,EAP2BoB,EAO3BpB,YAEMlB,EAAmBhN,KAAKnC,MAAxBmP,eAENK,EAIErN,KAJFqN,mBACAmB,EAGExO,KAHFwO,gBACAH,EAEErO,KAFFqO,cACAd,EACEvN,KADFuN,gBAGF,OACEtR,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,UAAd,sBACCyQ,EACGA,EAAexM,IAAI,SAAA+J,GACjB,OACEtO,EAAAC,EAAAC,cAACoT,GAAD,CACE7O,IAAKyM,EAAKgB,kBACVnB,eAAgBzC,EAChB8C,mBAAoBA,MAI1B,KAEHrN,KAAK7E,MAAMyR,eACV3Q,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,OACEI,UAAU,kCACVH,MAAO,CAAEa,QAAS,SAEjB+C,KAAK7E,MAAMyR,eAAepM,IAAI,SAACgP,EAAIrR,GAAL,OAC7BlC,EAAAC,EAAAC,cAAA,OAAKuE,IAAKyM,EAAKgB,kBAAmB5R,UAAU,cAC1CN,EAAAC,EAAAC,cAAA,qBAAaqT,EAAGrQ,MAChBlD,EAAAC,EAAAC,cAAA,mBAAWqT,EAAGtG,SAAd,OACAjN,EAAAC,EAAAC,cAAA,oBAAYqT,EAAG1G,UAAf,YACA7M,EAAAC,EAAAC,cAAA,UACEI,UAAU,MACVM,QAAS,WACPwR,EAAclQ,EAAIqR,EAAG1G,aAHzB,gBASA,IACJ7M,EAAAC,EAAAC,cAAA,MAAII,UAAU,cAAd,kCAC6BuM,IAI9B9I,KAAK7E,MAAMyR,eAAe9M,OAAS,EAClC7D,EAAAC,EAAAC,cAACsT,GAAD,CACElC,gBAAiBA,EACjBhF,KAAMA,EACNC,KAAMA,EACN4B,YAAaA,IAGf,GAED8D,EAAc,KACbjS,EAAAC,EAAAC,cAAA,MAAII,UAAU,kCAAd,iCAIFN,EAAAC,EAAAC,cAAA,UACEI,UAC4B,IAA1BqQ,EAAe9M,QACN,KAATyI,GACS,KAATC,GACgB,KAAhB4B,EACI,MACA,eAENhO,MAAO,CAAEnB,OAAQ,UACjB4B,QAAS2R,GAVX,qBAaU,KAEV,MAIR,OACEvS,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kCAAf,mGA1KmBoE,aAkMZsE,eACb/J,YAjBsB,SAACC,EAAO2M,GAC9B,IAAMK,EAAYL,EAAS1D,MAAM4H,OAAO0C,UAElC1K,EAAW7I,EAAMwH,UAAUoF,KAAK/D,SAItC,MAAO,CAAEgJ,eAFchJ,EAAWA,EAASmE,GAAWkC,QAAU,OAKvC,SAAA/O,GACzB,MAAO,CACL8T,YAAa,SAAC3G,EAAUP,GAAX,OAAoB5M,ECrMtB,SAACmN,EAAUP,GACxB,OAAO,SAAC5M,EAAUE,EAAXO,GAAuDA,EAAhCL,aACVkH,EAD0C7G,EAAnB6G,gBAItCG,WAAW,iBACX4J,IAAI,CACHlE,WACAP,OACAhF,UAAW,IAAIC,OAEhBxH,KAAK,WACJL,EAAS,CACPM,KrBdkB,eqBelB6M,eAGH5M,MAAM,SAAAC,GACLR,EAAS,CAAEM,KrBlBe,qBqBkBWE,WDmLCsT,CAAY3G,EAAUP,QASlE5C,2BAAiB,CAAC,CAAEvC,WAAY,cALnBkC,CAMbgJ,IE3LayB,GAnBA,WACb,OACEzT,EAAAC,EAAAC,cAAA,UAAQI,UAAU,wCAChBN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBAAf,YAEEN,EAAAC,EAAAC,cAAA,KACEI,UAAU,iCACVoT,KAAK,wCACLvT,MAAO,CAAEnB,OAAQ,WAHnB,mBC2CJ2U,GAAW,CACf3U,OAAQ,OACRoB,SAAU,WACVoG,IAAK,MACLoC,KAAM,MACN0G,UAAW,qBAEEsE,GAvDD,WACZ,OACE5T,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,UAAd,0BAEAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OACEI,UAAU,cACVH,MAAO,CACL2P,SAAU,QAGZ9P,EAAAC,EAAAC,cAAA,OACEqB,IAAI,kHACJE,IAAI,uBACJtB,MAAOwT,OAIb3T,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,+BACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,YAAYH,MAAO,CAAEiL,WAAY,SAA9C,8cAUFpL,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMC,GAAG,IAAIF,UAAU,OAAvB,oCAMNN,EAAAC,EAAAC,cAAC2T,GAAD,UCHKC,GAvCY,SAAC5L,EAAShG,GACnC,OAAO,SAAC7C,EAAUE,EAAXO,GAAuD,IAAhCL,EAAgCK,EAAhCL,YAEtBiH,GAAYC,EAF0C7G,EAAnB6G,gBAKnC5D,EAFWtD,IAEKN,OAAO4U,YAErB/R,EAAoBkG,EAApBlG,MAAOY,EAAasF,EAAbtF,SAEfG,EACGiR,YAAYhS,GACZtC,KAAK,WACJqD,EACGkR,eAAerR,GACfhD,MAAM,SAASsU,GACd7L,QAAQC,IAAI4L,OAIpB,IAAMC,EAAa5U,IAAWmH,UAAUoF,KAAKxK,MAAMY,GAC/C3C,IAAWmH,UAAUoF,KAAKxK,MAAMY,GAChC3C,IAAWmH,UAAUoF,KAAK/D,SAAS7F,GAEjCkS,EAAczQ,OAAA2B,EAAA,EAAA3B,CAAA,GAAQwQ,EAAejM,GAE3CxB,EACGI,WAAWqN,EAAWpR,KAAO,QAAU,YACvCgE,IAAI7E,GACJ8E,IAAIoN,GACJ1U,KAAK,WACJL,EAAS,CAAEM,KxBzBS,mBwB2BrBC,MAAM,SAASC,GACdR,EAAS,CAAEM,KxB3Be,qBwB2BWE,YC9BhCwU,GAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA/Q,EAAAG,OAAAsM,EAAA,EAAAtM,CAAAI,KAAAsQ,GAAA,QAAAG,EAAAC,UAAA5Q,OAAA6Q,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAApR,EAAAG,OAAAuM,EAAA,EAAAvM,CAAAI,MAAAwQ,EAAA5Q,OAAAwM,EAAA,EAAAxM,CAAA0Q,IAAAjE,KAAAyE,MAAAN,EAAA,CAAAxQ,MAAApD,OAAA+T,MACExV,MAAQ,CACN4V,YAAa,CACX9S,MAAO,GACPY,SAAU,GACVC,KAAM,GACNZ,MAAO,IAET8S,eAAe,GARnBvR,EAqBEwR,cAAgB,WACd,IAAM9M,EAAU1E,EAAK5B,MAAMsG,QAE3B1E,EAAKM,SAAS,CAAEgR,YAAYnR,OAAA2B,EAAA,EAAA3B,CAAA,GAAMuE,GAAW6M,eAAe,KAxBhEvR,EA2BE3B,cAAgB,SAAAuD,GACd5B,EAAKM,SAAS,CACZgR,YAAYnR,OAAA2B,EAAA,EAAA3B,CAAA,GAAMH,EAAKtE,MAAM4V,YAAlBnR,OAAA4B,EAAA,EAAA5B,CAAA,GAAgCyB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOpD,WA7BxEoB,EAiCEU,aAAe,SAAAkB,GAEb,GADAA,EAAEK,mBACEjC,EAAKtE,MAAM4V,YAAYlS,SAASiB,OAAS,GAA7C,CAFkB,IAGViR,EAAgBtR,EAAKtE,MAArB4V,YACRtR,EAAKM,SAAS,CAAEiR,eAAe,IAC/B,IAAM7S,EAAKsB,EAAK5B,MAAMuG,MAAM4H,OAAO7N,GAEnCsB,EAAK5B,MAAMkS,YAAYgB,EAAa5S,GACpCsB,EAAK5B,MAAM+D,QAAQC,KAAnB,cAAAjF,OAAsCuB,MAzC1CsB,EAAA,OAAAG,OAAAsR,EAAA,EAAAtR,CAAA0Q,EAAAC,GAAA3Q,OAAAuR,EAAA,EAAAvR,CAAA0Q,EAAA,EAAA5P,IAAA,oBAAArC,MAAA,WAYI2B,KAAKD,SAAS,CAAEiR,eAAe,MAZnC,CAAAtQ,IAAA,qBAAArC,MAAA,YAgBS2B,KAAK7E,MAAM6V,eAAiBhR,KAAKnC,MAAMsG,SAC1CnE,KAAKiR,kBAjBX,CAAAvQ,IAAA,SAAArC,MAAA,WA4CW,IAAA+S,EACkCpR,KAAK7E,MAAM4V,YAA5C9S,EADDmT,EACCnT,MAAOY,EADRuS,EACQvS,SAAUC,EADlBsS,EACkBtS,KAAMZ,EADxBkT,EACwBlT,MAEvBiC,EAAgCH,KAAhCG,aAAcrC,EAAkBkC,KAAlBlC,cAEtB,OACE7B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,UAAU8D,SAAUF,GAClClE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,SACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,QACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,EACRlC,MAAOJ,EACPG,SAAUN,KAGd7B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,WACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,WACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,EACRlC,MAAOQ,EACPT,SAAUN,KAId7B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,iBACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,OACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,EACRlC,MAAOS,EACPV,SAAUN,KAGd7B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0BACbN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,yBAAb,SACAN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,QACHvC,KAAK,MACL4C,YAAY,6CACZjC,UAAU,WACVgC,QAAQ,WACRF,MAAOH,EACPE,SAAU4B,KAAKlC,kBAKrB7B,EAAAC,EAAAC,cAAA,UACEI,UACEsC,GAAYA,EAASiB,OAAS,EAAI,eAAiB,OAFvD,yBAOCjB,GAAYA,EAASiB,OAAS,EAC7B7D,EAAAC,EAAAC,cAAA,MAAII,UAAU,YAAd,oDACE,YAjHhB+T,EAAA,CAAiC3P,aA8IlBsE,eACb/J,YAtBsB,SAACC,EAAO2M,GAC9B,IAAM3J,EAAK2J,EAAS1D,MAAM4H,OAAO7N,GAE3BZ,EAAQpC,EAAMwH,UAAUoF,KAAKxK,MAC7ByG,EAAW7I,EAAMwH,UAAUoF,KAAK/D,SAMtC,MAAO,CACLG,QALYvE,OAAA2B,EAAA,EAAA3B,CAAA,GAAQrC,EAAUyG,GAEP7F,KAOA,SAAA7C,GACzB,MAAO,CACLyU,YAAa,SAAC5L,EAAShG,GAAV,OAAiB7C,EAASyU,GAAY5L,EAAShG,QAS9DmH,2BAAiB,CAAC,CAAEvC,WAAY,SAAW,CAAEA,WAAY,cAL5CkC,CAMbqL,IClJIe,8MACJlW,MAAQ,CACNmN,eAAgB,WAChBgJ,iBAAiB,EACjBC,iBAAiB,KAGnBzT,cAAgB,SAAAuD,GACM,aAAhBA,EAAEI,OAAOtD,GACXsB,EAAKM,SAAS,CACZuR,iBAAiB,EACjBC,iBAAiB,EACjBjJ,eAAgBjH,EAAEI,OAAOtD,KAEF,aAAhBkD,EAAEI,OAAOtD,IAClBsB,EAAKM,SAAS,CACZuR,iBAAiB,EACjBC,iBAAiB,EACjBjJ,eAAgBjH,EAAEI,OAAOtD,QAK/BqT,gBAAkB,WAEhB,IAAMC,EAAahS,EAAK5B,MAAMuG,MAAM4H,OAAOyF,WAE3ChS,EAAK5B,MAAM6T,aAAajS,EAAKtE,MAAMmN,eAAgBmJ,MAGrD5I,mBAAqB,WAGnB,OAFqBpJ,EAAK5B,MAAMoK,aAAa,GAArCQ,SACiBjI,IAAI,SAAAmI,GAAC,OAAIA,EAAEG,YACnBC,OAAO,SAAC7M,EAAG8M,GAC1B,OAAO9M,EAAI8M,GACV,MAGL2I,eAAiB,kBAAMnH,KAAKC,YAE5B/B,mBAAqB,WAGnB,OAFqBjJ,EAAK5B,MAAMoK,aAAa,GAArCQ,SAEQjI,IAAI,SAAAmI,GAClB,OACE1M,EAAAC,EAAAC,cAAA,OAAKuE,IAAKjB,EAAKkS,iBAAkBvV,MAAOwV,IACtC3V,EAAAC,EAAAC,cAAA,4BAAoBwM,EAAExJ,MACtBlD,EAAAC,EAAAC,cAAA,mCAA2BwM,EAAEO,UAC7BjN,EAAAC,EAAAC,cAAA,2CAA8BwM,EAAEG,uFAM/B,IAAAqE,EAAAnN,KAAAC,EA6ByCD,KAAKnC,MAA7CoK,EA7BDhI,EA6BCgI,aAAclK,EA7BfkC,EA6BelC,WAAYC,EA7B3BiC,EA6B2BjC,UAElC,GAAKiK,EACA,KAAA4J,EAMC7R,KAAKnC,MAAMoK,aAAa,GAAGC,KAJ7BK,EAFCsJ,EAEDtJ,KACAC,EAHCqJ,EAGDrJ,KACA4B,EAJCyH,EAIDzH,YACAjC,EALC0J,EAKD1J,UAEF,OACElM,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,IAAd,6BAEAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,cAAd,4CACkCwB,EADlC,IAC+CC,GAE/C/B,EAAAC,EAAAC,cAAA,wCAC+BoM,EAD/B,IACsCC,GAEtCvM,EAAAC,EAAAC,cAAA,OAAKC,MAAOwV,IAAZ,6BAEE3V,EAAAC,EAAAC,cAAA,SAAIiO,IAELpK,KAAK0I,qBACNzM,EAAAC,EAAAC,cAAA,KACEI,UAAU,sCACVH,MAAOwV,IAFT,kCAIkC5R,KAAK6I,qBAAsB,IAJ7D,YAQF5M,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBAAyBH,MAAOqC,IAC7CxC,EAAAC,EAAAC,cAAA,mEAjEZF,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cACfN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,WACHvC,KAAK,WACLwC,SAAU+O,EAAKrP,cACfoB,QAASiO,EAAKhS,MAAMmW,kBAEtBrV,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cAAhB,4BAGJN,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cACfN,EAAAC,EAAAC,cAAA,SACEI,UAAU,WACV4B,GAAG,WACHvC,KAAK,WACLwC,SAAU+O,EAAKrP,cACfoB,QAASiO,EAAKhS,MAAMoW,kBAEtBtV,EAAAC,EAAAC,cAAA,QAAMI,UAAU,YAAhB,yBAmDFN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAE,cAAAG,OAAgBuL,GAClB5L,UAAU,MACVH,MAAO,CAAEnB,OAAQ,SAEhB,IALH,2CAQAgB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEK,QAASmD,KAAKwR,gBACd/U,GAAE,cAAAG,OAAgBuL,GAClB5L,UAAU,MACVH,MAAO,CAAEnB,OAAQ,SAJnB,4BAnDa,OAAOgB,EAAAC,EAAAC,cAAC2P,GAAD,aArFHnL,aAsJrBlC,GAAkB,CACtB1B,QAAS,OACT2B,cAAe,SACfC,WAAY,aACZ3B,eAAgB,UAGZ4U,GAAoB,CACxB3U,QAAS,SACTqO,UAAW,QAoCErG,eACb/J,YAlCsB,SAACC,EAAO2M,GAC9B,GAAI3M,EAAMwH,UAAUuC,QAAQsE,cAAe,CACzC,IAAMiI,EAAa3J,EAAS1D,MAAM4H,OAAOyF,WAInCxJ,GAHgB9M,EAAMwH,UAAUuC,QAAQsE,cAC1CrO,EAAMwH,UAAUuC,QAAQsE,cACxB,IAC+BG,OACjC,SAAAmI,GAAM,OAAIL,IAAeK,EAAO3T,KAG5B6J,EAASC,EAAa,GAAGC,KAAKF,OAQpC,MAAO,CACLC,eACAlK,WARiBiK,EACf7M,EAAMwH,UAAUoF,KAAKxK,MAAMyK,GAAQjK,WACnC,KAOFC,UANgBgK,EACd7M,EAAMwH,UAAUoF,KAAKxK,MAAMyK,GAAQhK,UACnC,MAMC,MAAO,IAGW,SAAA1C,GACzB,MAAO,CACLoW,aAAc,SAACpJ,EAAgBmJ,GAAjB,OACZnW,ECrMS,SAACgN,EAAgBmJ,GAC9B,OAAO,SAACnW,EAAUE,EAAXO,GAAuDA,EAAhCL,YAAgC,IACtDiH,GAAYC,EAD0C7G,EAAnB6G,gBAGzC,GAAI6O,EAAY,CACd,IAAMM,EAAcvW,IAAWmH,UAAUoF,KAAKyB,cAAciI,GAGtDO,EAAWpS,OAAA2B,EAAA,EAAA3B,CAAA,GAAQmS,EAAY7J,KAApB,CAA0BI,mBAErC2J,EAAerS,OAAA2B,EAAA,EAAA3B,CAAA,GAChBmS,EADgB,CAEnB7J,KAAM8J,IAGRrP,EACGI,WAAW,iBACXC,IAAIyO,GACJxO,IAHHrD,OAAA2B,EAAA,EAAA3B,CAAA,GAIOqS,EAJP,CAKI/O,UAAW,IAAIC,QAEhBxH,KAAK,WACJL,EAAS,CACPM,K3BTiB,gB2BUjB0M,qBAGHzM,MAAM,SAAAC,GACLR,EAAS,CAAEM,K3Bbc,sB2BaaE,YDwKjC4V,CAAapJ,EAAgBmJ,QAS1CnM,2BAAiB,CAAC,CAAEvC,WAAY,SAAW,CAAEA,WAAY,mBAL5CkC,CAMboM,IEtJIpH,GAAc,CAAEhP,OAAQ,UAsBfgK,eACb/J,YArBsB,SAACC,EAAO2M,GAC9B,IAAI0B,EAAgBrO,EAAMwH,UAAUuC,QAAQsE,cAEtCrL,EAAK2J,EAAS1D,MAAM4H,OAAOzF,UAC3BhJ,EAAQpC,EAAMwH,UAAUoF,KAAKxK,MAC7ByG,EAAW7I,EAAMwH,UAAUoF,KAAK/D,SAEhCD,EAAQnE,OAAA2B,EAAA,EAAA3B,CAAA,GAAQrC,EAAUyG,GAIhC,MAAO,CACLG,QAHcJ,EAAWA,EAAS5F,GAAM,KAIxCoI,UAAWpI,EACX6F,SAAU7I,EAAMwH,UAAUuC,QAAQlB,SAClCwF,gBACApO,KAAMD,EAAME,SAASD,QAMvBkK,2BAAiB,CACf,CAAEvC,WAAY,SACd,CAAEA,WAAY,YACd,CAAEA,WAAY,mBALHkC,CA1ES,SAAApH,GAgCtB,OAAIA,EAAM2L,cAENvN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,oBAAoBH,MAAO6N,IAAzC,gCAGAhO,EAAAC,EAAAC,cAAA,UAxCgB,WAAM,IACxBoK,EAAsC1I,EAAtC0I,UAAWpC,EAA2BtG,EAA3BsG,QAASqF,EAAkB3L,EAAlB2L,cAkB5B,OAf8B5J,OAAAC,EAAA,EAAAD,CACzB4J,EAAcG,OAAO,SAAAC,GAAK,IAAAC,EACGD,EAAE1B,KAAxBF,EADmB6B,EACnB7B,OAAQG,EADW0B,EACX1B,UAChB,OAAOH,IAAWzB,GAAa4B,IAAc5B,KAI9CuD,KAAK,SAAC5N,EAAG8M,GACR,OAAI9M,EAAEgH,UAAY8F,EAAE9F,WACV,EAED,IAIgB1C,IAAI,SAAAyH,GAC/B,OACEhM,EAAAC,EAAAC,cAAC6N,GAAD,CACE7F,QAASA,EACT8D,aAAcA,EACdvH,IAAKuH,EAAa9J,GAClBoI,UAAWA,MAeFmD,QAOR,OC/CLwI,8MACJ/W,MAAQ,CAAEiP,YAAa,MAEvB+H,WAAa,SAAA9Q,GACX5B,EAAKM,SAAS,CAAEqK,YAAa/I,EAAE+Q,cAAc/T,WAG/CgU,kBAAoB,WAAM,IACHC,EAAmB7S,EAAK5B,MAArCuM,YACamI,EAAmB9S,EAAKtE,MAArCiP,YACR,OAAOkI,EACLrW,EAAAC,EAAAC,cAAA,YACEC,MAAOoW,GACPpU,SAAUqB,EAAK0S,WACfM,aAAcH,IAGhBrW,EAAAC,EAAAC,cAAA,YACEC,MAAOoW,GACPpU,SAAUqB,EAAK0S,WACf9T,MAAOkU,GAAkC,GACzC/T,YAAY,0BAKlBkU,WAAa,WACX,IAAMnM,EAAY9G,EAAK5B,MAAMuG,MAAM4H,OAAOzF,UAC1C9G,EAAK5B,MAAM8U,gBAAgBlT,EAAKtE,MAAMiP,YAAa7D,GACnD9G,EAAK5B,MAAM+D,QAAQC,KAAnB,cAAAjF,OAAsC2J,6EAG/B,IAAA4G,EAAAnN,KACDuG,EAAYvG,KAAKnC,MAAMuG,MAAM4H,OAAOzF,UAC1C,OACEtK,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,UAAd,2BACAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,UAAd,iBACAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBACZyD,KAAKqS,oBACNpW,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAE,cAAAG,OAAgB2J,GAClBhK,UAAU,MACVH,MAAOpB,IAHT,aAOAiB,EAAAC,EAAAC,cAAA,UACEI,UAAU,MACVH,MAAOpB,GACP6B,QAAS,kBAAMsQ,EAAKuF,eAHtB,kBAMU,eAvDS/R,aA+D3B3F,GAAe,CACnBC,OAAQ,SAEJuX,GAAgB,CACpB1V,MAAO,MACPgI,OAAQ,OACR7J,OAAQ,UAqBKgK,eACb/J,YAnBsB,SAACC,EAAO2M,GAC9B,IAAM3J,EAAK2J,EAAS1D,MAAM4H,OAAOzF,UAMjC,MAAO,CACL6D,YALkBjP,EAAMwH,UAAUoF,KAAK/D,SACrC7I,EAAMwH,UAAUoF,KAAK/D,SAAS7F,GAAIiM,YAClC,OAMqB,SAAA9O,GACzB,MAAO,CACLqX,gBAAiB,SAACvI,EAAa7D,GAC7BjL,EC5FS,SAAC8O,EAAa7D,GAC3B,OAAO,SAACjL,EAAUE,EAAXO,GAAuDA,EAAhCL,YAAgC,IACtDiH,GAAYC,EAD0C7G,EAAnB6G,gBAGzC,GAAI2D,EAAW,CACb,IAAM+L,EAAiB9W,IAAWmH,UAAUoF,KAAK/D,SAASuC,GAGpDqM,EAAkBhT,OAAA2B,EAAA,EAAA3B,CAAA,GAAQ0S,EAAR,CAAwBlI,gBAEhDzH,EACGI,WAAW,YACXC,IAAIuD,GACJtD,IAHHrD,OAAA2B,EAAA,EAAA3B,CAAA,GAIOgT,EAJP,CAKI1P,UAAW,IAAIC,QAEhBxH,KAAK,WACJL,EAAS,CACPM,K9BDoB,mB8BEpBwO,kBAGHvO,MAAM,SAAAC,GACLR,EAAS,CAAEM,K9BLiB,yB8BKaE,YDoEpC+W,CAAuBzI,EAAa7D,QASjDjB,2BAAiB,CAAC,CAAEvC,WAAY,cALnBkC,CAMbiN,IE/EaY,GAvBY,SAACzI,EAASlM,GACnC,OAAO,SAAC7C,EAAUE,EAAXO,GAAuDA,EAAhCL,YAAgC,IAEtDiH,GAAYC,EAF0C7G,EAAnB6G,gBAInCmQ,EAAavX,IAAWmH,UAAUoF,KAAK/D,SAAS7F,GAGhDmQ,EAAc1O,OAAA2B,EAAA,EAAA3B,CAAA,GAAQmT,EAAeA,EAAW1I,GAAlC,CAA4CA,YAEhE1H,EACGI,WAAW,YACXC,IAAI7E,GACJ8E,IAAIqL,GACJ3S,KAAK,WACJL,EAAS,CAAEM,K/BMS,mB+BJrBC,MAAM,SAASC,GACdR,EAAS,CAAEM,K/BIe,qB+BJWE,YCbvCkX,8MACJ7X,MAAQ,CACN8X,YAAa,CACX9T,KAAM,GACN4N,KAAM,IAER1C,QAAS,GACT2G,eAAe,KAGjB7C,gBAAkB,kBAAM3D,KAAKC,YAE7ByI,oBAAsB,WACpB,IAAMC,EAAY1T,EAAK5B,MAAMsV,UAC7B,GAAK1T,EAAKtE,MAAM6V,gBAAkBmC,GAAkC,IAArBA,EAAUrT,OAGlD,OAAO,KAFZL,EAAKM,SAAS,CAAEsK,QAAQzK,OAAAC,EAAA,EAAAD,CAAKuT,KAC7B1T,EAAKM,SAAS,CAAEiR,eAAe,OAQnCoC,eAAiB,SAAA/R,GACf,IAAMgS,EAAWxE,SAASxN,EAAEI,OAAO6R,WAAWnV,IAExCgV,EAAY1T,EAAKtE,MAAMkP,QAAQV,OAAO,SAAClB,EAAUG,GACrD,OAAOA,IAAUyK,IAGnB5T,EAAKM,SAAS,CACZsK,QAAQzK,OAAAC,EAAA,EAAAD,CAAKuT,QAIjB/D,YAAc,SAAA/N,GACZA,EAAEK,iBACF,IAAM2I,EAAO,GAAAzN,OAAAgD,OAAAC,EAAA,EAAAD,CAAOH,EAAKtE,MAAMkP,SAAlB,CAA2B5K,EAAKtE,MAAM8X,cAEnDxT,EAAKM,SAAS,CAAEsK,YAChB5K,EAAKM,SAAS,CAAEkT,YAAa,CAAE9T,KAAM,GAAI4N,KAAM,SAGjDwG,gBAAkB,WAGhB,OAFkB9T,EAAKtE,MAAMkP,QAEZ7J,IAAI,SAACiI,EAAUG,GAC9B,IAAMzK,EAAKqM,KAAKC,SAEhB,OACExO,EAAAC,EAAAC,cAAA,MAAII,UAAU,kBAAkBmE,IAAKvC,EAAIA,GAAIyK,GAC3C3M,EAAAC,EAAAC,cAAA,6BAAqBsM,EAAStJ,MAC9BlD,EAAAC,EAAAC,cAAA,6BAAqBsM,EAASsE,MAC9B9Q,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMM,QAAS,SAAAwE,GAAC,OAAI5B,EAAK2T,eAAe/R,KAA1D,mBAQRvD,cAAgB,SAAAuD,GACd,IAAM4Q,EACY,SAAhB5Q,EAAEI,OAAOtD,GAATyB,OAAA4B,EAAA,EAAA5B,CAAA,GACOyB,EAAEI,OAAOtD,GAAK0Q,SAASxN,EAAEI,OAAOpD,QADvCuB,OAAA4B,EAAA,EAAA5B,CAAA,GAEOyB,EAAEI,OAAOtD,GAAKkD,EAAEI,OAAOpD,OAE1B4U,EAAWrT,OAAA2B,EAAA,EAAA3B,CAAA,GACZH,EAAKtE,MAAM8X,YACXhB,GAGLxS,EAAKM,SAAS,CAAEkT,mBAGlBH,YAAc,WACZ,IAAM3U,EAAKsB,EAAK5B,MAAMuG,MAAM4H,OAAOzF,UAEnC9G,EAAK5B,MAAMiV,YAAYrT,EAAKtE,MAAMkP,QAASlM,GAE3CsB,EAAK5B,MAAM+D,QAAQC,KAAnB,cAAAjF,OAAsCuB,wFA5DtC6B,KAAKkT,uDAgEL,IAAM3M,EAAYvG,KAAKnC,MAAMuG,MAAM4H,OAAOzF,UAC1C,OACEtK,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,WACdN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,OACHvC,KAAK,OACLW,UAAU,WACVgE,UAAQ,EACR/B,YAAY,kBACZJ,SAAU4B,KAAKlC,cACfO,MAAO2B,KAAK7E,MAAM8X,YAAY9T,QAGlClD,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,SACEgC,GAAG,OACHvC,KAAK,SACLmS,IAAI,IACJxR,UAAU,WACVgE,UAAQ,EACR/B,YAAY,kBACZJ,SAAU4B,KAAKlC,cACfO,MAAO2B,KAAK7E,MAAM8X,YAAYlG,SAIpC9Q,EAAAC,EAAAC,cAAA,UACEI,UACEyD,KAAK7E,MAAM8X,YAAY9T,MAAQa,KAAK7E,MAAM8X,YAAYlG,KAClD,MACA,eAENlQ,QAASmD,KAAKoP,YACdhT,MAAOpB,IAPT,SAUU,MAGdiB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,cAAcyD,KAAKuT,oBAEnCtX,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAE,cAAAG,OAAgB2J,GAClBhK,UAAU,MACVH,MAAOpB,IAHT,aAOAiB,EAAAC,EAAAC,cAAA,UAAQI,UAAU,MAAMH,MAAOpB,GAAc6B,QAASmD,KAAK8S,aAA3D,kBAEU,YA7IWnS,aAmJvB3F,GAAe,CACnBC,OAAQ,SAoBKgK,eACb/J,YAlBsB,SAACC,EAAO2M,GAC9B,IAAMvB,EAAYuB,EAAS1D,MAAM4H,OAAOzF,UAKxC,MAAO,CACL4M,UALgBhY,EAAMwH,UAAUoF,KAAK/D,SACnC7I,EAAMwH,UAAUoF,KAAK/D,SAASuC,GAAW8D,QACzC,KAOqB,SAAA/O,GACzB,MAAO,CACLwX,YAAa,SAACzI,EAASlM,GAAV,OAAiB7C,EAASkY,GAAmBnJ,EAASlM,QASrEmH,2BAAiB,CAAC,CAAEvC,WAAY,cALnBkC,CAMb+N,IC9KIS,8MACJtY,MAAQ,CAAEuY,MAAO,GAAIC,YAAY,EAAOC,eAAgB,EAAGC,UAAU,KAErEC,cAAgB,SAAAzS,GACd,GAAIA,EAAEI,OAAOsS,MAAM,GAAI,CACrB,IAAML,EAAQrS,EAAEI,OAAOsS,MAAM,GAC7BtU,EAAKM,SAAS,CAAE2T,QAAOC,YAAY,QAGvCxT,aAAe,SAAAkB,GACbA,EAAEK,iBAEF,IAEMsS,EAFa7N,EAAQ3C,MACEmD,MAAX,iBAAA/J,OAAkC6C,EAAK5B,MAAMzC,KAAKY,MACvCiY,IAAIxU,EAAKtE,MAAMuY,OAC5CM,EAAWE,GACT,gBACA,SAAAC,GACE,IAAIC,EAAW5J,KAAK6J,MACjBF,EAASG,iBAAmBH,EAASI,WAAc,KAEtD9U,EAAKM,SAAS,CAAE6T,eAAgBQ,KAElC,SAAAjE,GACE7L,QAAQC,IAAI4L,IAEd,WACE6D,EAAWG,SAAS3Q,IAAIoD,iBAAiBjL,KAAK,SAAA6Y,GAC5CC,WAAW,WACThV,EAAKM,SAAS,CAAE8T,UAAU,KACzB,kFAKF,IAAAzT,EACiDJ,KAAK7E,MAArDwY,EADDvT,EACCuT,WAAYC,EADbxT,EACawT,eAAgBC,EAD7BzT,EAC6ByT,SAAUH,EADvCtT,EACuCsT,MAEtCvT,EAAiBH,KAAjBG,aACR,OACElE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,iCACC0X,EAAW5X,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAUV,GAAE,cAAAG,OAAgBoD,KAAKnC,MAAMM,MAAW,KAC9DlC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,UAAU8D,SAAUF,GAClClE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,uBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,SAAOP,KAAK,OAAOwC,SAAU4B,KAAK8T,gBAAkB,OAI1D7X,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,GAAE,cAAAG,OAAgBoD,KAAKnC,MAAMM,IAC7B5B,UAAU,MACVH,MAAOmL,IAHT,aAOAtL,EAAAC,EAAAC,cAAA,UACEI,UAAYmX,EAAyB,MAAjB,eACpBtX,MAAOmL,IAFT,4BAOFtL,EAAAC,EAAAC,cAAA,YAAUkC,MAAO2B,KAAK7E,MAAMyY,eAAgBc,IAAI,QAC5B,IAAnBd,GAA2C,MAAnBA,EACvB3X,EAAAC,EAAAC,cAAA,MAAII,UAAU,eAAd,2CACE,KACHoX,GAAiC,MAAnBC,EACb3X,EAAAC,EAAAC,cAAA,MAAII,UAAU,cAAd,0CACE,cAxEUoE,aA+ElB4G,GAAY,CAChBtM,OAAQ,mBAkBKgK,eACb/J,YAhBsB,SAACC,EAAO2M,GAC9B,IAAM3J,EAAK2J,EAAS1D,MAAM4H,OAAOzF,UAE3BhJ,EAAQpC,EAAMwH,UAAUoF,KAAKxK,MAC7ByG,EAAW7I,EAAMwH,UAAUoF,KAAK/D,SAQtC,MAAO,CAAE7F,KAAIF,OANC2B,OAAA2B,EAAA,EAAA3B,CAAA,GAAQrC,EAAUyG,GAEP7F,IAAO,IAEVF,MAEF7C,KAAMD,EAAME,SAASD,QAKzCkK,2BAAiB,CAAC,CAAEvC,WAAY,SAAW,CAAEA,WAAY,cAF5CkC,CAGbwO,IC5CakB,oLA7CX,OACE1Y,EAAAC,EAAAC,cAACyY,EAAA,EAAD,CAAQC,SAAUpP,uBAChBxJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMS,SAAP,KACEV,EAAAC,EAAAC,cAAC2Y,EAAD,MACA7Y,EAAAC,EAAAC,cAAC4Y,EAAA,EAAD,KACE9Y,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,IAAI6Q,UAAWC,IACjClZ,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,UAAU6Q,UAAW5T,IACvCrF,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,SAAS6Q,UAAWrF,KACtC5T,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,cAAc6Q,UAAW7R,IAC3CpH,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,iBAAiB6Q,UAAW7R,IAC9CpH,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,iBAAiB6Q,UAAWzJ,KAC9CxP,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CACEC,OAAK,EACL5Q,KAAK,kCACL6Q,UAAWjH,KAEbhS,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,mBAAmB6Q,UAAW5E,KAChDrU,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CACEC,OAAK,EACL5Q,KAAK,4BACL6Q,UAAW7D,KAEbpV,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CACEC,OAAK,EACL5Q,KAAK,8BACL6Q,UAAWE,KAEbnZ,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CACEC,OAAK,EACL5Q,KAAK,iCACL6Q,UAAWhD,KAEbjW,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CACEC,OAAK,EACL5Q,KAAK,6BACL6Q,UAAWlC,KAEb/W,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAOC,OAAK,EAAC5Q,KAAK,wBAAwB6Q,UAAWzB,eAvC/C9S,aCLZ0U,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASrR,MACvB,2DAsCN,SAASsR,GAAgBC,EAAOpQ,GAC9BqQ,UAAUC,cACPC,SAASH,GACTha,KAAK,SAAAoa,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB9a,QACfya,UAAUC,cAAcO,YAI1B9R,QAAQC,IACN,gHAKEgB,GAAUA,EAAO8Q,UACnB9Q,EAAO8Q,SAASN,KAMlBzR,QAAQC,IAAI,sCAGRgB,GAAUA,EAAO+Q,WACnB/Q,EAAO+Q,UAAUP,UAO5Bla,MAAM,SAAAsU,GACL7L,QAAQ6L,MAAM,4CAA6CA,mBC9F3DoG,GAAY,CAChB3J,eAAgB,CAAC,CAAEzN,KAAM,MAAO+J,SAAU,EAAGJ,UAAW,KCSpDyN,GAAY,CAChBhZ,MAAO,CACL,CACEY,GAAI,EACJJ,WAAY,MACZC,UAAW,OACXC,MAAO,gBACPC,MAAO,aACPW,SAAU,SACVC,KAAM,UACNC,SAAS,EACTC,MAAM,EACN0U,MACE,mHAEJ,CACEvV,GAAI,EACJJ,WAAY,SACZC,UAAW,SACXC,MAAO,gBACPC,MAAO,WACPW,SAAU,MACVC,KAAM,UACNC,SAAS,EACTC,MAAM,EACN0U,MACE,oHAGN1P,SAAU,CACR,CACE7F,GAAI,EACJJ,WAAY,WACZC,UAAW,OACXC,MAAO,oBACPC,MAAO,YACPW,SAAU,WACVC,KAAM,UACNC,SAAS,EACTC,MAAM,EACNoL,YACE,+TACFsJ,MACE,gHAEFrJ,QAAS,CACP,CAAElL,KAAM,SAAU4N,KAAM,IACxB,CAAE5N,KAAM,WAAY4N,KAAM,IAC1B,CAAE5N,KAAM,YAAa4N,KAAM,MAG/B,CACE5O,GAAI,EACJJ,WAAY,QACZC,UAAW,WACXC,MAAO,kBACPC,MAAO,YACPW,SAAU,YACVC,KAAM,UACNC,SAAS,EACTC,MAAM,EACN0U,MACE,gHACFtJ,YACE,iNACFC,QAAS,CACP,CAAElL,KAAM,SAAU4N,KAAM,IACxB,CAAE5N,KAAM,WAAY4N,KAAM,IAC1B,CAAE5N,KAAM,MAAO4N,KAAM,iBC9EvBwJ,GAAY,CAChBjZ,UAAW,MCWEkZ,GARWC,YAAgB,CACxCC,gBHDa,WAA+B,IAA9Bvb,EAA8BuV,UAAA5Q,OAAA,QAAA6W,IAAAjG,UAAA,GAAAA,UAAA,GAAtB6F,GAAWK,EAAWlG,UAAA5Q,OAAA,EAAA4Q,UAAA,QAAAiG,EACtClO,EAAWmO,EAAOnO,SAClBH,EAAiBsO,EAAOtO,eAC9B,OAAQsO,EAAOhb,MACb,IpCVwB,eoCWtB,OAAOgE,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmBsN,aACrB,IpCKyB,gBoCHzB,IpCI+B,sBoCH7B,OAAO7I,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmBmN,mBACrB,QACE,OAAOnN,IGTXC,KDFa,WAA+B,IAA9BD,EAA8BuV,UAAA5Q,OAAA,QAAA6W,IAAAjG,UAAA,GAAAA,UAAA,GAAtB6F,GACtB,QAD4C7F,UAAA5Q,OAAA,EAAA4Q,UAAA,QAAAiG,GAC7B/a,MACb,ItCIuB,csCHrB,OAAOgE,OAAA2B,EAAA,EAAA3B,CAAA,GACFzE,EADL,CAEEmC,UAAW,iEAEf,ItCFyB,gBsCGvB,OAAOsC,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmBmC,UAAW,OAChC,ItCD2B,kBsCG3B,ItCFyB,gBsCIzB,QACE,OAAOnC,ICXXoC,MF6Ea,WAA+B,IAA9BpC,EAA8BuV,UAAA5Q,OAAA,QAAA6W,IAAAjG,UAAA,GAAAA,UAAA,GAAtB6F,GAAWK,EAAWlG,UAAA5Q,OAAA,EAAA4Q,UAAA,QAAAiG,EACtC3X,EAAO4X,EAAO5X,KACd1B,EAAYsZ,EAAOtZ,UACzB,OAAQsZ,EAAOhb,MACb,IrCvFoB,WqCwFlB,IAAM2B,EAAK,GAAAX,OAAAgD,OAAAC,EAAA,EAAAD,CAAOzE,EAAMoC,OAAb,CAAoByB,IAE/B,OAAOY,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmBoC,QAAOD,UAAW,OACvC,IrC1F0B,iBqC2FxB,OAAOsC,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmBmC,cACrB,IrC1FuB,cqC2FrB,IAAM0G,EAAQ,GAAApH,OAAAgD,OAAAC,EAAA,EAAAD,CAAOzE,EAAM6I,UAAb,CAAuBhF,IAErC,OAAOY,OAAA2B,EAAA,EAAA3B,CAAA,GAAKzE,EAAZ,CAAmB6I,WAAU1G,UAAW,OAC1C,IrC5FwB,eqC8FxB,IrC7F8B,qBqC+F9B,IrCpF4B,mBqCsF5B,IrCrFkC,yBqCuFlC,IrCrFwB,eqCuFxB,IrCtF8B,qBqCwF9B,QACE,OAAOnC,IEvGXE,SAAUwb,kBACVlU,UAAWmU,sBCEPC,GAAQC,YACZC,GACAhS,YACEiS,YAAgBC,KAAMC,kBAAkB,CAAE1b,0BAAakH,gCACvDyU,0BAAeC,KACfC,6BAAmBD,IAAU,CAAEE,mBAAmB,MAKtDT,GAAMU,oBAAoB9b,KAAK,WAC7B+b,IAASC,OACP1b,EAAAC,EAAAC,cAACyb,EAAA,EAAD,CAAUb,MAAOA,IACf9a,EAAAC,EAAAC,cAAC0b,GAAD,OAEFC,SAASC,eAAe,WLNrB,SAAkBxS,GACvB,GAA6C,kBAAmBqQ,UAAW,CAGzE,GADkB,IAAIoC,IAAIvS,sBAAwB8P,OAAOC,SAAS7F,MACpDsI,SAAW1C,OAAOC,SAASyC,OAIvC,OAGF1C,OAAO2C,iBAAiB,OAAQ,WAC9B,IAAMvC,EAAK,GAAA/Y,OAAM6I,sBAAN,sBAEP4P,IAgEV,SAAiCM,EAAOpQ,GAEtC4S,MAAMxC,GACHha,KAAK,SAAAyc,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYI,QAAQ,cAG5C7C,UAAUC,cAAc6C,MAAM/c,KAAK,SAAAoa,GACjCA,EAAa4C,aAAahd,KAAK,WAC7B4Z,OAAOC,SAASoD,aAKpBlD,GAAgBC,EAAOpQ,KAG1B1J,MAAM,WACLyI,QAAQC,IACN,mEArFAsU,CAAwBlD,EAAOpQ,GAI/BqQ,UAAUC,cAAc6C,MAAM/c,KAAK,WACjC2I,QAAQC,IACN,+GAMJmR,GAAgBC,EAAOpQ,MKlB/BsQ","file":"static/js/main.a0bcf5be.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.6732bd42.png\";","module.exports = __webpack_public_path__ + \"static/media/preload.0dcb1d48.jpeg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { signOut } from \"../store/actions/auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Navbar = ({ auth, signOut }) => {\r\n  if (!auth.uid) return <Redirect to=\"/\" />;\r\n\r\n  // two ul conditionally rendered to ensure responsiveness\r\n  return (\r\n    <nav style={{ position: \"relative\", zIndex: \"1\" }}>\r\n      <div className=\"nav-wrapper teal lighten-1\">\r\n        <Link to=\"/\" className=\"brand-logo center truncate \">\r\n          TRAIN THROUGH LIFE\r\n        </Link>\r\n        <ul className=\"right hide-on-med-and-down\">\r\n          {!auth.isEmpty ? (\r\n            <React.Fragment>\r\n              <li>\r\n                <Link\r\n                  className=\"btn\"\r\n                  style={buttonsStyle}\r\n                  to={`/dashboard/${auth.uid}`}\r\n                >\r\n                  Panel Główny\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <button className=\"btn\" style={buttonsStyle} onClick={signOut}>\r\n                  Wyloguj\r\n                </button>\r\n              </li>\r\n            </React.Fragment>\r\n          ) : null}\r\n          <li>\r\n            <Link\r\n              to=\"/about\"\r\n              className=\" btn-floating waves-effect waves-light yellow darken-1\"\r\n            >\r\n              <i className=\"material-icons\">info</i>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n        <ul\r\n          className=\"right hide-on-large-only teal lighten-1\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <br />\r\n          {!auth.isEmpty ? (\r\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n              <li>\r\n                <Link\r\n                  className=\"btn\"\r\n                  style={(buttonsStyle, { padding: \"0 5px\" })}\r\n                  to={`/dashboard/${auth.uid}`}\r\n                >\r\n                  Panel Główny\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  className=\"btn\"\r\n                  style={(buttonsStyle, { padding: \"0 5px\" })}\r\n                  onClick={signOut}\r\n                >\r\n                  Wyloguj\r\n                </button>\r\n              </li>\r\n              <li>\r\n                <Link\r\n                  to=\"/about\"\r\n                  className=\" btn-floating waves-effect waves-light yellow darken-1\"\r\n                >\r\n                  <i\r\n                    className=\"material-icons tiny\"\r\n                    style={{ fontSize: \"1.5rem\" }}\r\n                  >\r\n                    info\r\n                  </i>\r\n                </Link>\r\n              </li>\r\n            </div>\r\n          ) : null}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst buttonsStyle = {\r\n  margin: \"0 5px\"\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signOut: () => dispatch(signOut())\r\n  };\r\n};\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.firebase.auth\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Navbar);\r\n","import { LOGIN_SUCCESS, LOGIN_ERROR } from \"../types\";\r\nimport { SIGNOUT_SUCCESS, SIGNOUT_ERROR } from \"../types\";\r\n\r\nexport const signIn = credentials => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(credentials.email, credentials.password)\r\n      .then(() => {\r\n        dispatch({ type: LOGIN_SUCCESS });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: LOGIN_ERROR, err });\r\n      });\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        dispatch({ type: SIGNOUT_SUCCESS });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SIGNOUT_ERROR, err });\r\n      });\r\n  };\r\n};\r\n","export const ADD_TRAINING = \"ADD_TRAINING\";\r\nexport const ADD_TRAINING_ERROR = \"ADD_TRAINING_ERROR\";\r\n\r\nexport const ADD_USER = \"ADD_USER\";\r\nexport const ADD_USER_ERROR = \"ADD_USER_ERROR\";\r\n\r\nexport const ADD_TRAINER = \"ADD_TRAINER\";\r\n\r\nexport const EDIT_PROFILE = \"EDIT_PROFILE\";\r\nexport const EDIT_PROFILE_ERROR = \"EDIT_PROFILE_ERROR\";\r\n\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\n\r\nexport const SIGNOUT_SUCCESS = \"SIGNOUT_SUCCESS\";\r\nexport const SIGNOUT_ERROR = \"SIGNOUT_ERROR\";\r\n\r\nexport const EDIT_TRAINING = \"EDIT_TRAINING\";\r\nexport const EDIT_TRAINING_ERROR = \"EDIT_TRAINING_ERROR\";\r\n\r\nexport const EDIT_DESCRIPTION = \"EDIT_DESCRIPTION\";\r\nexport const EDIT_DESCRIPTION_ERROR = \"EDIT_DESCRIPTION_ERROR\";\r\n\r\nexport const EDIT_CLASSES = \"EDIT_CLASSES\";\r\nexport const EDIT_CLASSES_ERROR = \"EDIT_CLASSES_ERROR\";\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport startPageImg from \"../img/preload.jpeg\";\r\n\r\nconst AuthPreloader = ({ authError }) => {\r\n  return (\r\n    <div className=\"container center hoverable\">\r\n      <div className=\"row\">\r\n        <div className=\"col s12\" style={{ padding: 0 }}>\r\n          <div className=\"card center-align\">\r\n            <div className=\"card-image\">\r\n              <img src={startPageImg} alt=\"training person\" />\r\n              <span className=\"card-title\">Personal Training App</span>\r\n              <Link\r\n                to=\"/about\"\r\n                className=\" btn-floating halfway-fab waves-effect waves-light yellow darken-1\"\r\n              >\r\n                <i className=\"material-icons\">info</i>\r\n              </Link>\r\n            </div>\r\n            <div className=\"card-content\" style={authPreloaderStyle}>\r\n              {authError ? (\r\n                <h5 className=\"red-text text-lighten-1\">\r\n                  Podany adres email jest już używany przez innego użytkownika.\r\n                  Spróbuj zarejestrować się przy użyciu innego adresu email.\r\n                </h5>\r\n              ) : (\r\n                <h5>\r\n                  Train how You like. Share Your Passion. Training is You.\r\n                </h5>\r\n              )}\r\n            </div>\r\n            <div className=\"card-action\">\r\n              <div className=\"row\">\r\n                <Link\r\n                  to=\"/signinuser\"\r\n                  className=\"center-align text-darken-2 col s12 m3 offset-m2 btn\"\r\n                  style={{ marginBottom: \"10px\" }}\r\n                >\r\n                  Login as User\r\n                </Link>{\" \"}\r\n                <Link\r\n                  to=\"/signintrainer\"\r\n                  className=\"center-align  text-darken-2 col s12 m3 offset-m2 btn\"\r\n                  style={{ marginBottom: \"10px\" }}\r\n                >\r\n                  Login as Trainer\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card-action \">\r\n              <Link to=\"/signup\" className=\" text-darken-2 btn\">\r\n                Sign Up\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst authPreloaderStyle = {\r\n  textTransform: \"uppercase\"\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authError: state.users.authError\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(AuthPreloader);\r\n","import React from \"react\";\r\n\r\nconst SignUpStepOne = props => {\r\n  const { onInputChange, first_name, last_name, email, phone } = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h3> Rejestracja </h3>\r\n      <h6>Zarejestruj się w aplikacji wypełniając poniższe pola</h6>\r\n      <form className=\"col s12\">\r\n        <div className=\"row\">\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">account_circle</i>\r\n            <input\r\n              id=\"first_name\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={first_name}\r\n            />\r\n            <label className=\"active\" htmlFor=\"first_name\">\r\n              First Name\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">account_circle</i>\r\n            <input\r\n              id=\"last_name\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={last_name}\r\n            />\r\n            <label className=\"active\" htmlFor=\"last_name\">\r\n              Last Name\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">email</i>\r\n            <input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={email}\r\n            />\r\n            <label className=\"active\" htmlFor=\"email\">\r\n              Email\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">phone</i>\r\n            <input\r\n              id=\"phone\"\r\n              type=\"text\"\r\n              pattern=\"[0-9]{9}\"\r\n              placeholder=\"Opcjonalne. 9 cyfr\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={phone}\r\n            />\r\n            <label className=\"active\" htmlFor=\"phone\">\r\n              Phone number\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SignUpStepOne;\r\n","import React from \"react\";\r\n\r\nconst SignUpStepTwo = props => {\r\n  const { onInputChange, password, city, trainer, user } = props;\r\n\r\n  const checkboxes = (\r\n    <React.Fragment>\r\n      <p>\r\n        <label className=\"left-align\">\r\n          <input\r\n            id=\"user\"\r\n            type=\"checkbox\"\r\n            onChange={onInputChange}\r\n            checked={user}\r\n            name=\"profileType\"\r\n          />\r\n          <span>User</span>\r\n        </label>\r\n      </p>\r\n      <p>\r\n        <label className=\"left-align\">\r\n          <input\r\n            id=\"trainer\"\r\n            type=\"checkbox\"\r\n            onChange={onInputChange}\r\n            checked={trainer}\r\n            name=\"profileType\"\r\n          />\r\n          <span>Trainer</span>\r\n        </label>\r\n      </p>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h3> Rejestracja </h3>\r\n      <h6>Zarejestruj się w aplikacji wypełniając poniższe pola</h6>\r\n      <form className=\"col s12\">\r\n        <div className=\"row\">\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">vpn_key</i>\r\n            <input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={password}\r\n            />\r\n            <label htmlFor=\"password\" className=\"active\">\r\n              Hasło (conajmniej 6 znaków)\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s10 m6\">\r\n            {\" \"}\r\n            <i className=\"material-icons prefix\">location_city</i>\r\n            <input\r\n              id=\"city\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              onChange={onInputChange}\r\n              value={city}\r\n            />\r\n            <label htmlFor=\"city\" className=\"active\">\r\n              City\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s10 m6\" style={checkboxesStyle}>\r\n            <span>Wybierz swoją rolę:</span>\r\n            {checkboxes}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst checkboxesStyle = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"flex-start\",\r\n  justifyContent: \"center\"\r\n};\r\n\r\nexport default SignUpStepTwo;\r\n","import React, { Component } from \"react\";\r\n\r\nclass SignUpSummary extends Component {\r\n  state = {\r\n    empty: false,\r\n    fieldsToFill: []\r\n  };\r\n\r\n  checkForEmptyFields = () => {\r\n    let empty = false;\r\n    let oldArray = this.state.fieldsToFill;\r\n    // form check\r\n    for (let i in this.props.personData) {\r\n      if (i !== \"photo\" && (i !== \"phone\" && this.props.personData[i] === \"\")) {\r\n        empty = true;\r\n        oldArray = [...oldArray, i];\r\n        // password length check\r\n      }\r\n      if (i === \"password\" && this.props.personData[i].length < 6) {\r\n        empty = true;\r\n      }\r\n\r\n      this.setState({ fieldsToFill: oldArray });\r\n    }\r\n    this.setState({ empty });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.checkForEmptyFields();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      personData: {\r\n        first_name,\r\n        last_name,\r\n        email,\r\n        phone,\r\n        password,\r\n        city,\r\n        trainer\r\n      },\r\n      onFormSubmit\r\n    } = this.props;\r\n\r\n    const { empty, fieldsToFill } = this.state;\r\n\r\n    return (\r\n      <form\r\n        onSubmit={() => {\r\n          onFormSubmit();\r\n        }}\r\n      >\r\n        <h3>Podsumowanie</h3>\r\n        <div className=\"row\">\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={first_name}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              First Name\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={last_name}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              Last Name\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={email}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              Email\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={phone}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              Phone Number\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={password}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              Password\r\n            </label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              disabled\r\n              value={city}\r\n              id=\"disabled\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              required\r\n            />\r\n            <label htmlFor=\"disabled\" className=\"active\">\r\n              City\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <input\r\n            disabled\r\n            value={trainer ? \"Trainer\" : \"User\"}\r\n            id=\"disabled\"\r\n            type=\"text\"\r\n            className=\"validate\"\r\n            required\r\n          />\r\n          <label htmlFor=\"disabled\" className=\"active\">\r\n            Your Role:\r\n          </label>\r\n        </div>\r\n        {empty || password.length < 6 ? (\r\n          <React.Fragment>\r\n            <h5 className=\"red-text text-lighten-1\">\r\n              Uzupełnij następujące pola wymagane:\r\n            </h5>\r\n            {password.length < 6 ? (\r\n              <h6 className=\"red-text text-lighten-1\">\r\n                Pamiętaj, że hasło powinno mieć conajmniej 6 znaków\r\n              </h6>\r\n            ) : null}\r\n            <ul>\r\n              {fieldsToFill.map(field => (\r\n                <li key={field}>{field}</li>\r\n              ))}\r\n            </ul>\r\n          </React.Fragment>\r\n        ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUpSummary;\r\n","import React from \"react\";\r\n\r\nconst FormSteps = ({ step, redirectToStep }) => {\r\n  // three steps in three stages signUp form\r\n  switch (step) {\r\n    case 1:\r\n      return (\r\n        <nav className=\"teal lighten-1 hide-on-small-only\">\r\n          <div className=\"nav-wrapper\">\r\n            <div className=\"col s12\">\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(1)}\r\n                style={navStepsStyle}\r\n              >\r\n                Krok pierwszy\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      );\r\n    case 2:\r\n      return (\r\n        <nav className=\"teal lighten-1 hide-on-small-only\">\r\n          <div className=\"nav-wrapper\">\r\n            <div className=\"col s12\">\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(1)}\r\n                style={navStepsStyle}\r\n              >\r\n                Krok pierwszy\r\n              </span>\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(2)}\r\n                style={navStepsStyle}\r\n              >\r\n                Krok drugi\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      );\r\n    case 3:\r\n      return (\r\n        <nav className=\"teal lighten-1 hide-on-small-only\">\r\n          <div className=\"nav-wrapper\">\r\n            <div className=\"col s12\">\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(1)}\r\n                style={navStepsStyle}\r\n              >\r\n                Krok pierwszy\r\n              </span>\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(2)}\r\n                style={navStepsStyle}\r\n              >\r\n                Krok drugi\r\n              </span>\r\n              <span\r\n                className=\"breadcrumb\"\r\n                onClick={() => redirectToStep(3)}\r\n                style={navStepsStyle}\r\n              >\r\n                Podsumowanie\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n};\r\nconst navStepsStyle = {\r\n  cursor: \"pointer\"\r\n};\r\n\r\nexport default FormSteps;\r\n","import React from \"react\";\r\n\r\nconst Buttons = props => {\r\n  const { prevStep, nextStep, onFormSubmit, step } = props;\r\n\r\n  if (step === 1) {\r\n    return (\r\n      <button className=\"btn\" onClick={nextStep} style={buttonStyle}>\r\n        Dalej\r\n        <i className=\"material-icons right\">navigate_next</i>\r\n      </button>\r\n    );\r\n  } else if (step === 2) {\r\n    return (\r\n      <React.Fragment>\r\n        <button className=\"btn\" onClick={prevStep} style={buttonStyle}>\r\n          Powrót\r\n          <i className=\"material-icons left\">navigate_before</i>\r\n        </button>\r\n        <button className=\"btn\" onClick={nextStep} style={buttonStyle}>\r\n          Dalej\r\n          <i className=\"material-icons right\">navigate_next</i>\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  } else if (step === 3) {\r\n    return (\r\n      <React.Fragment>\r\n        <button className=\"btn\" onClick={prevStep} style={buttonStyle}>\r\n          Powrót\r\n          <i className=\"material-icons left\">navigate_before</i>\r\n        </button>\r\n        <button\r\n          className=\"btn\"\r\n          onClick={e => onFormSubmit(e)}\r\n          style={buttonStyle}\r\n        >\r\n          Zarejestruj\r\n          <i className=\"material-icons right\">navigate_next</i>\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n};\r\nconst buttonStyle = {\r\n  margin: \"0px 5px 5px 5px\"\r\n};\r\nexport default Buttons;\r\n","import React, { Component } from \"react\";\r\n\r\nimport SignUpStepOne from \"./signUpForm/SignUpStepOne\";\r\nimport SignUpStepTwo from \"./signUpForm/SignUpStepTwo\";\r\nimport SignUpSummary from \"./signUpForm/SignUpSummary\";\r\nimport FormSteps from \"./signUpForm/FormSteps\";\r\nimport Buttons from \"./signUpForm/Buttons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport addUser from \"../../store/actions/addUser\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    step: 1,\r\n    personData: {\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      password: \"\",\r\n      city: \"\",\r\n      trainer: false,\r\n      user: true\r\n    }\r\n  };\r\n\r\n  prevStep = () => {\r\n    this.setState({\r\n      step: this.state.step - 1\r\n    });\r\n  };\r\n\r\n  nextStep = () => {\r\n    this.setState({\r\n      step: this.state.step + 1\r\n    });\r\n  };\r\n\r\n  redirectToStep = step =>\r\n    // redirects  to clicked step in signUp form\r\n    this.setState({\r\n      step\r\n    });\r\n\r\n  onInputChange = e => {\r\n    const personData = {\r\n      ...this.state.personData,\r\n      [e.target.id]: e.target.value\r\n    };\r\n    // valid values in checkboxes obtained from e.target.checked, not value.\r\n\r\n    if (e.target.id === \"trainer\" || e.target.id === \"user\") {\r\n      const personData = {\r\n        ...this.state.personData,\r\n        [e.target.id]: e.target.checked\r\n      };\r\n      // checkboxes radio buttons mechanic imitaion\r\n      e.target.id === \"trainer\"\r\n        ? (personData.user = !this.state.personData.user)\r\n        : (personData.trainer = !this.state.personData.trainer);\r\n\r\n      this.setState({ personData });\r\n    } else {\r\n      this.setState({ personData });\r\n    }\r\n  };\r\n\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { personData } = this.state;\r\n\r\n    for (let i in personData) {\r\n      if (i !== \"phone\" && personData[i] === \"\") return;\r\n    }\r\n\r\n    if (personData.password === \"\" || personData.password.length < 6) return;\r\n    this.props.addUser(personData);\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { personData } = this.state;\r\n    const {\r\n      onInputChange,\r\n\r\n      state: {\r\n        step,\r\n        onFormSubmit,\r\n        personData: {\r\n          first_name,\r\n          last_name,\r\n          email,\r\n          phone,\r\n          password,\r\n          city,\r\n          trainer,\r\n          user\r\n        }\r\n      }\r\n    } = this;\r\n\r\n    switch (step) {\r\n      //\r\n      case 1:\r\n        return (\r\n          <SignUpStepOne\r\n            onInputChange={onInputChange}\r\n            first_name={first_name}\r\n            last_name={last_name}\r\n            email={email}\r\n            phone={phone}\r\n          />\r\n        );\r\n      //\r\n      case 2: {\r\n        return (\r\n          <SignUpStepTwo\r\n            onInputChange={onInputChange}\r\n            password={password}\r\n            city={city}\r\n            trainer={trainer}\r\n            user={user}\r\n          />\r\n        );\r\n      }\r\n      //\r\n      case 3: {\r\n        return (\r\n          <SignUpSummary personData={personData} onFormSubmit={onFormSubmit} />\r\n        );\r\n      }\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      state: { step },\r\n      prevStep,\r\n      nextStep,\r\n      onFormSubmit,\r\n      redirectToStep\r\n    } = this;\r\n    return (\r\n      <div className=\"container center-align\" style={{ position: \"relative\" }}>\r\n        <Link to=\"/\" className=\"btn z-depth-0\" style={homeButtonStyle}>\r\n          <i className=\"small material-icons \">home</i>\r\n        </Link>\r\n        <div className=\"row\">\r\n          {\" \"}\r\n          <FormSteps step={step} redirectToStep={redirectToStep} />\r\n          {this.renderForm()}\r\n          <Buttons\r\n            step={step}\r\n            prevStep={prevStep}\r\n            nextStep={nextStep}\r\n            onFormSubmit={onFormSubmit}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst homeButtonStyle = {\r\n  position: \"fixed\",\r\n  top: \"0\",\r\n  right: \"0\",\r\n  zIndex: 1\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.users\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addUser: user => dispatch(addUser(user))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SignUp);\r\n","import { ADD_USER, ADD_USER_ERROR, ADD_TRAINER } from \"../types\";\r\n\r\nexport default user => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    const firebase = getFirebase();\r\n\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(user.email, user.password)\r\n      .then(resp => {\r\n        return firestore\r\n          .collection(user.user ? \"users\" : \"trainers\")\r\n          .doc(resp.user.uid)\r\n          .set({ ...user, createdAt: new Date() })\r\n          .then(() => {\r\n            if (user.user) {\r\n              dispatch({\r\n                type: ADD_USER,\r\n                user\r\n              });\r\n            } else if (user.trainer) {\r\n              dispatch({\r\n                type: ADD_TRAINER,\r\n                user\r\n              });\r\n            }\r\n          });\r\n      })\r\n      .catch(err => {\r\n        dispatch({\r\n          type: ADD_USER_ERROR,\r\n          authError: err.message\r\n        });\r\n      });\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { signIn } from \"../../store/actions/auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass SignIn extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    loginError: false,\r\n    userAsTrainerLoginError: false\r\n  };\r\n  ref = React.createRef();\r\n\r\n  onInputChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  passwordShowToggle = () => {\r\n    this.ref.current.type === \"password\"\r\n      ? (this.ref.current.type = \"text\")\r\n      : (this.ref.current.type = \"password\");\r\n  };\r\n\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    //\r\n    const userEmail = this.state.email;\r\n    const userPassword = this.state.password;\r\n\r\n    // combined arrays of users and trainers\r\n    const profiles = [...this.props.users, ...this.props.trainers];\r\n\r\n    const userMatched = profiles\r\n      ? profiles.find(profile => {\r\n          return (\r\n            userEmail === profile.email && userPassword === profile.password\r\n          );\r\n        })\r\n      : null;\r\n\r\n    if (!userMatched) {\r\n      this.setState({ loginError: true });\r\n      return;\r\n    }\r\n    // matching if user is logging through user signIn and if trainer is logging through trainer signIn\r\n    if (\r\n      (userMatched.trainer && this.props.match.path === \"/signintrainer\") ||\r\n      (userMatched.user && this.props.match.path === \"/signinuser\")\r\n    ) {\r\n      const id = userMatched.id;\r\n      // login through firebase auth\r\n      this.props.signIn(this.state);\r\n      this.props.history.push(`/dashboard/${id}`);\r\n    } else {\r\n      this.setState({ userAsTrainerLoginError: true });\r\n\r\n      return console.log(\r\n        \"Brak usera w bazie, lub user loguje się jako trener lub odwrotnie\"\r\n      );\r\n    }\r\n    this.setState({ email: \"\", password: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, loginError, userAsTrainerLoginError } = this.state;\r\n    const { path } = this.props.match;\r\n    const { authError } = this.props;\r\n    return (\r\n      <div style={bgStyle}>\r\n        <div className=\"container white-text\">\r\n          <h2 style={{ paddingTop: \"30px\", marginTop: \"0\" }}>\r\n            {path === \"/signinuser\"\r\n              ? \"Zaloguj się jako User\"\r\n              : \"Zaloguj się jako Trener\"}\r\n          </h2>\r\n          <div className=\"row\">\r\n            <form className=\"col s12\" onSubmit={this.onFormSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"input-field col s12\">\r\n                  <input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    className=\" white-text\"\r\n                    value={email}\r\n                    onChange={this.onInputChange}\r\n                    required\r\n                  />\r\n                  <label htmlFor=\"email\">Email</label>\r\n                </div>\r\n\r\n                <div className=\"input-field col s12\">\r\n                  {\" \"}\r\n                  <input\r\n                    ref={this.ref}\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    className=\"white-text\"\r\n                    value={password}\r\n                    onChange={this.onInputChange}\r\n                    required\r\n                  />{\" \"}\r\n                  <i\r\n                    style={{ cursor: \"pointer\" }}\r\n                    className=\"material-icons right grey-text\"\r\n                    onClick={this.passwordShowToggle}\r\n                  >\r\n                    remove_red_eye\r\n                  </i>\r\n                  <label htmlFor=\"password\">Password</label>\r\n                </div>\r\n              </div>\r\n              <Link to=\"/\" className=\"btn\" style={buttonStyle}>\r\n                Powrót\r\n              </Link>\r\n              <button className=\"btn\" type=\"submit\" style={buttonStyle}>\r\n                Zaloguj\r\n              </button>\r\n              {authError ? (\r\n                <h5 className=\"red-text text-darken-2 center\">{authError}</h5>\r\n              ) : null}\r\n              {loginError ? (\r\n                <h5 className=\"red-text text-darken-2 center\">\r\n                  Adres email lub hasło jest nieprawidłowe\r\n                </h5>\r\n              ) : null}\r\n              {userAsTrainerLoginError ? (\r\n                <h5 className=\"red-text text-darken-2 center\">\r\n                  Próbujesz logowania poprzez błędne okno\r\n                </h5>\r\n              ) : null}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst buttonStyle = {\r\n  margin: \"0 10px\"\r\n};\r\n\r\nconst bgStyle = {\r\n  backgroundImage:\r\n    \"linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.2)), url(https://images.pexels.com/photos/685534/pexels-photo-685534.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260)\",\r\n  position: \"relative\",\r\n  top: \"0\",\r\n  left: \"0\",\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  margin: \"0\",\r\n  padding: \"0\",\r\n  backgroundPosition: \"center\",\r\n  backgroundSize: \"cover\"\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const trainers = state.firestore.ordered.trainers;\r\n  const users = state.firestore.ordered.users;\r\n  const authError = state.auth.authError;\r\n\r\n  return {\r\n    users,\r\n    trainers,\r\n    authError\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signIn: creds => dispatch(signIn(creds))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n\r\n  firestoreConnect([{ collection: \"users\" }, { collection: \"trainers\" }])\r\n)(SignIn);\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nconst { FIREBASE_API_KEY } = process.env;\r\nvar config = {\r\n  apiKey: FIREBASE_API_KEY,\r\n  authDomain: \"train-through-life.firebaseapp.com\",\r\n  databaseURL: \"https://train-through-life.firebaseio.com\",\r\n  projectId: \"train-through-life\",\r\n  storageBucket: \"train-through-life.appspot.com\",\r\n  messagingSenderId: \"1024636187129\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nvar storage = firebase.storage();\r\n\r\nexport { storage, firebase as default };\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { storage } from \"../../../fbConfig/index\";\r\nimport avatar from \"../img/avatar.png\";\r\nclass Profile extends Component {\r\n  state = { url: \"\" };\r\n  renderProfileLinks = () => {\r\n    const { profileId, profile } = this.props;\r\n\r\n    return profile.user ? (\r\n      <div className=\"card-action\">\r\n        <Link to={`/traininghistory/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Historia Treningów</h6>\r\n        </Link>\r\n        <Link to={`/editprofile/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Edytuj Profil</h6>\r\n        </Link>\r\n        <Link to={`/editphoto/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Edytuj Zdjęcie</h6>\r\n        </Link>\r\n      </div>\r\n    ) : (\r\n      <div className=\"card-action\">\r\n        <Link to={`/traininghistory/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Historia Treningów</h6>\r\n        </Link>\r\n        <Link to={`/editprofile/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Edytuj Profil</h6>\r\n        </Link>\r\n        <Link to={`/editphoto/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Edytuj Zdjęcie</h6>\r\n        </Link>\r\n        <Link to={`/trainerdescription/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Zarządzaj Opisem Profilu</h6>\r\n        </Link>\r\n        <Link to={`/trainerclasses/${profileId}`}>\r\n          <h6 style={profileSectionsStyle}>Zarządzaj Treningami</h6>\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAvatarPhoto();\r\n  }\r\n  componentDidUpdate() {\r\n    if (!this.state.url) {\r\n      this.getAvatarPhoto();\r\n    }\r\n  }\r\n  getAvatarPhoto = () => {\r\n    const { uid } = this.props;\r\n\r\n    // firebase storage\r\n    const storageRef = storage.ref();\r\n    if (uid) {\r\n      return storageRef\r\n        .child(`avatar_photos/${uid}`)\r\n        .getDownloadURL()\r\n        .then(url => {\r\n          this.setState({ url });\r\n        })\r\n        .catch(err => {\r\n          // default photo if no photo provided\r\n\r\n          this.setState({ url: avatar });\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.profile) {\r\n      const { first_name, last_name, city } = this.props.profile;\r\n      const { profile } = this.props;\r\n      const { url } = this.state;\r\n\r\n      return (\r\n        <div\r\n          className={\r\n            profile.user\r\n              ? \"card col s12 m8 l3 offset-m2 offset-l1\"\r\n              : \"card col s12 m4 offset-m1 l4 offset-l1 \"\r\n          }\r\n        >\r\n          <div className=\"avatar-photo\" style={avatarContainer}>\r\n            <img\r\n              src={url}\r\n              className=\"circle center\"\r\n              alt=\"profile avatar\"\r\n              style={avatarStyle}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"card-title center \">\r\n            <h3>\r\n              {first_name} {last_name}\r\n            </h3>\r\n            <h5>\r\n              {city\r\n                .charAt(0)\r\n                .toUpperCase()\r\n                .concat(city.substr(1))\r\n                .trim()}\r\n            </h5>\r\n          </div>\r\n          {this.renderProfileLinks()}\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nconst avatarStyle = {\r\n  width: \"80%\",\r\n  display: \"block\",\r\n  margin: \"0 auto\"\r\n};\r\n\r\nconst profileSectionsStyle = {\r\n  lineHeight: \"3rem\"\r\n};\r\n\r\nconst avatarContainer = {\r\n  padding: \"10px 0\",\r\n  borderBottom: \"2px solid gray\"\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nconst Notification = props => {\r\n  const {\r\n    info: { trainingStatus, date, time },\r\n    training,\r\n    id,\r\n    createdAt\r\n  } = props.notification;\r\n\r\n  const { first_name, last_name, profile, match } = props;\r\n\r\n  const renderTrainingList = () => {\r\n    return training.map((t, index) => {\r\n      return <span key={index}>{t.name}, </span>;\r\n    });\r\n  };\r\n\r\n  const calculateTotalCost = () => {\r\n    let totalCost = training.map(t => t.totalCost);\r\n    return totalCost.reduce((a, b) => {\r\n      return a + b;\r\n    }, 0);\r\n  };\r\n\r\n  const calculateTotalDuration = () => {\r\n    let totalDuration = training.map(t => t.duration);\r\n    return totalDuration.reduce((a, b) => {\r\n      return a + b;\r\n    }, 0);\r\n  };\r\n\r\n  const ViewAdditiontimer = () => moment(createdAt.toDate()).calendar();\r\n\r\n  switch (trainingStatus) {\r\n    case \"pending\":\r\n      return (\r\n        <li style={notificationStyle}>\r\n          <h5>\r\n            {/* creates links to training edition only in elements with passed match prop */}\r\n            {profile.trainer && match ? (\r\n              <Link to={`/editTraining/${id}`} style={linkStyle}>\r\n                {\" \"}\r\n                Otrzymano ofertę spotkania z {first_name} {last_name}\r\n              </Link>\r\n            ) : (\r\n              `Wysłano ofertę spotkania z ${first_name} ${last_name}`\r\n            )}\r\n          </h5>\r\n          <p>\r\n            Status:{\" \"}\r\n            <span style={trainingPendingStyle}>\"czeka na potwierdzenie\"</span>\r\n            <i className=\"material-icons right\" style={trainingPendingStyle}>\r\n              alarm\r\n            </i>\r\n          </p>\r\n          <p>\r\n            Data:{\" \"}\r\n            <span style={trainingPendingStyle}>\r\n              {time} / {date}\r\n            </span>\r\n          </p>\r\n          <p>\r\n            Typ zajęć:{\" \"}\r\n            <span style={trainingPendingStyle}>{renderTrainingList()}</span>\r\n          </p>\r\n          <p>\r\n            Koszt / Czas Trwania:{\" \"}\r\n            <span style={trainingPendingStyle}>\r\n              {calculateTotalCost()} zł / {calculateTotalDuration()} min\r\n            </span>\r\n          </p>\r\n          <p className=\"grey-text text-lighten-1\">\r\n            Dodano / Modyfikowano:{\" \"}\r\n            <span style={{ display: \"block\" }}>{ViewAdditiontimer()}</span>\r\n          </p>\r\n        </li>\r\n      );\r\n    case \"approved\":\r\n      return (\r\n        <li style={notificationStyle}>\r\n          <h5>\r\n            Umówiono spotkanie z {first_name} {last_name}\r\n          </h5>\r\n          <p>\r\n            Status: <span style={trainingApprovedStyle}>\"potwierdzone\"</span>\r\n            <i className=\"material-icons right\" style={trainingApprovedStyle}>\r\n              alarm_on\r\n            </i>\r\n          </p>\r\n          <p>\r\n            Data:{\" \"}\r\n            <span style={trainingApprovedStyle}>\r\n              {time} / {date}\r\n            </span>\r\n          </p>\r\n          <p>\r\n            Typ zajęć:{\" \"}\r\n            <span style={trainingApprovedStyle}>{renderTrainingList()}</span>\r\n          </p>\r\n          <p>\r\n            Koszt / Czas Trwania:{\" \"}\r\n            <span style={trainingApprovedStyle}>\r\n              {calculateTotalCost()} zł / {calculateTotalDuration()} min\r\n            </span>\r\n          </p>\r\n          <p className=\"grey-text text-lighten-1\">\r\n            Dodano / Modyfikowano:{\" \"}\r\n            <span style={{ display: \"block\" }}>{ViewAdditiontimer()}</span>\r\n          </p>\r\n        </li>\r\n      );\r\n    case \"canceled\":\r\n      return (\r\n        <li style={notificationStyle}>\r\n          <h5>\r\n            Odwołano spotkanie z {first_name} {last_name}\r\n          </h5>\r\n          <p>\r\n            Status:{\" \"}\r\n            <span style={trainingCanceledStyle}>\"anulowane przez trenera\"</span>\r\n            <i className=\"material-icons right\" style={trainingCanceledStyle}>\r\n              alarm_off\r\n            </i>\r\n          </p>\r\n          <p>\r\n            Data:{\" \"}\r\n            <span style={trainingCanceledStyle}>\r\n              {time} / {date}\r\n            </span>\r\n          </p>\r\n          <p>\r\n            Typ zajęć:{\" \"}\r\n            <span style={trainingCanceledStyle}>{renderTrainingList()}</span>\r\n          </p>\r\n          <p>\r\n            Koszt / Czas Trwania:{\" \"}\r\n            <span style={trainingCanceledStyle}>\r\n              {calculateTotalCost()} zł / {calculateTotalDuration()} min\r\n            </span>\r\n          </p>\r\n          <p className=\"grey-text text-lighten-1\">\r\n            Dodano / Modyfikowano:{\" \"}\r\n            <span style={{ display: \"block\" }}>{ViewAdditiontimer()}</span>\r\n          </p>\r\n        </li>\r\n      );\r\n\r\n    default:\r\n      return <div>Loading...</div>;\r\n  }\r\n};\r\n\r\nconst linkStyle = {\r\n  color: \"#ffab40\"\r\n};\r\n\r\nconst notificationStyle = {\r\n  border: \"2px solid gray\",\r\n  padding: \"15px\",\r\n  margin: \"10px 0\"\r\n};\r\n\r\nconst trainingApprovedStyle = {\r\n  color: \"#33ca9a\"\r\n};\r\n\r\nconst trainingPendingStyle = {\r\n  color: \"#f1c40f\"\r\n};\r\n\r\nconst trainingCanceledStyle = {\r\n  color: \"#FF5252\"\r\n};\r\nconst mapStateToProps = (state, ownProps) => {\r\n  if (state.firestore.data.trainers[ownProps.profileId]) {\r\n    const userId = ownProps.notification.info.userId;\r\n    const first_name = state.firestore.data.users[userId].first_name;\r\n    const last_name = state.firestore.data.users[userId].last_name;\r\n\r\n    return { first_name, last_name };\r\n  } else if (state.firestore.data.users[ownProps.profileId]) {\r\n    const trainerId = ownProps.notification.info.trainerId;\r\n    const first_name = state.firestore.data.trainers[trainerId].first_name;\r\n    const last_name = state.firestore.data.trainers[trainerId].last_name;\r\n    return { first_name, last_name };\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    { collection: \"users\" },\r\n    { collection: \"trainers\" },\r\n    { collection: \"notifications\" }\r\n  ])\r\n)(Notification);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Notification from \"./Notification\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nclass Notifications extends Component {\r\n  state = {\r\n    notifications: []\r\n  };\r\n\r\n  // how many notifications should be displayed in dashboard view\r\n  _notificationLimit = 4;\r\n\r\n  renderNotifications = () => {\r\n    const { profileId, profile, notifications, match } = this.props;\r\n\r\n    // filter to get right notifs\r\n    const notificationsFiltered = notifications\r\n      ? [\r\n          ...notifications.filter(n => {\r\n            const { userId, trainerId } = n.info;\r\n            return userId === profileId || trainerId === profileId;\r\n          })\r\n        ]\r\n          // sort by timestamps\r\n          .sort((a, b) => {\r\n            if (a.createdAt > b.createdAt) {\r\n              return -1;\r\n            } else {\r\n              return 1;\r\n            }\r\n          })\r\n          //  slice to limit of notifications in dashboard view\r\n          .slice(0, this._notificationLimit)\r\n      : null;\r\n\r\n    return notificationsFiltered.map(notification => {\r\n      return (\r\n        <Notification\r\n          profile={profile}\r\n          notification={notification}\r\n          key={notification.id}\r\n          profileId={profileId}\r\n          match={match}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.props.notifications) {\r\n      const { profile } = this.props;\r\n      return (\r\n        // trainer/user dashboard view\r\n        <div\r\n          className={\r\n            profile.user\r\n              ? \"card col s12 m8 l3 offset-m2 offset-l1\"\r\n              : \"card col s12 m6 offset-m1 l6 offset-l1  \"\r\n          }\r\n        >\r\n          <div className=\"card blue-grey darken-1\">\r\n            <div className=\"card-content white-text\">\r\n              <h5 className=\"card-title center\" style={headerStyle}>\r\n                Twoje Ostatnie Aktywności\r\n              </h5>\r\n              <ul>{this.renderNotifications()}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\nconst headerStyle = { margin: \"10px 0\" };\r\n\r\nconst mapStateToProps = state => {\r\n  let notifications = state.firestore.ordered.notifications;\r\n\r\n  return {\r\n    notifications\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    {\r\n      collection: \"notifications\"\r\n    }\r\n  ])\r\n)(Notifications);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { storage } from \"../../../fbConfig/index\";\r\nimport avatar from \"../img/avatar.png\";\r\n\r\nclass TrainerDetail extends Component {\r\n  state = { url: \"\" };\r\n\r\n  componentDidMount() {\r\n    this.getAvatarPhoto();\r\n  }\r\n\r\n  getAvatarPhoto = () => {\r\n    const { id } = this.props.trainer;\r\n\r\n    // firebase storage\r\n    const storageRef = storage.ref();\r\n    return storageRef\r\n      .child(`avatar_photos/${id}`)\r\n      .getDownloadURL()\r\n      .then(url => {\r\n        this.setState({ url });\r\n      })\r\n      .catch(err => {\r\n        // default photo if no photo provided\r\n        this.setState({ url: avatar });\r\n      });\r\n  };\r\n  render() {\r\n    const {\r\n      first_name,\r\n      last_name,\r\n      description,\r\n      classes,\r\n      id\r\n    } = this.props.trainer;\r\n\r\n    const { url } = this.state;\r\n    const { userId } = this.props;\r\n    const randClassTypeId = () => Math.random();\r\n\r\n    return (\r\n      <div className=\"col s12  center-align\">\r\n        <div className=\"card\">\r\n          <div className=\"card-image\">\r\n            <img src={url} alt=\"trainer-avatar\" />\r\n            <span className=\"card-title black-text\" style={trainerNameStyle}>\r\n              {first_name} {last_name}\r\n            </span>\r\n            <Link\r\n              to={`/addTraining/${id}/${userId}`}\r\n              className=\"btn-floating halfway-fab waves-effect waves-light red right\"\r\n            >\r\n              <i className=\"material-icons\">alarm_add</i>\r\n            </Link>\r\n          </div>\r\n          <div className=\"card-content left-align\">\r\n            <p>\r\n              {description ? description : \"Trener nie dodał jeszcze opisu\"}\r\n            </p>\r\n          </div>\r\n          <div className=\"card-content left-align\">\r\n            <p>\r\n              Zajęcia:{\" \"}\r\n              {classes\r\n                ? classes.map(classType => {\r\n                    return (\r\n                      <span key={randClassTypeId()}>{classType.name}, </span>\r\n                    );\r\n                  })\r\n                : \"Brak dostępnych zajęć\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst trainerNameStyle = {\r\n  backgroundColor: \"rgba(255,255,255,0.5)\",\r\n  width: \"100%\"\r\n};\r\nexport default TrainerDetail;\r\n","import React from \"react\";\r\nimport TrainerDetail from \"../trainers/TrainerDetail\";\r\n\r\nconst formatToUniversalString = unformatedString => {\r\n  const formatedString = unformatedString\r\n    .toLowerCase()\r\n    .replace(/żź/gi, \"z\")\r\n    .replace(/ł/gi, \"l\")\r\n    .replace(/ó/gi, \"o\")\r\n    .trim();\r\n  return formatedString;\r\n};\r\n\r\nconst TrainerList = ({ trainers, userId, userCity }) => {\r\n  const checkForMatchingTrainers = () =>\r\n    matchTrainersByCity().length > 0 ? true : false;\r\n\r\n  const matchTrainersByCity = () => {\r\n    return trainers.filter(trainer => {\r\n      const trainerC = formatToUniversalString(trainer.city);\r\n      const userC = formatToUniversalString(userCity);\r\n      return trainerC === userC;\r\n    });\r\n  };\r\n\r\n  const matchedTrainers = [...matchTrainersByCity()];\r\n\r\n  const renderTrainersList = trainers => {\r\n    return trainers.map(trainer => (\r\n      <TrainerDetail key={trainer.id} trainer={trainer} userId={userId} />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"card col s12 m8 l3 offset-m2 offset-l1\">\r\n      <h5 className=\"center\" style={headerStyle}>\r\n        Oferty Trenerów z Twojego Miasta\r\n      </h5>\r\n      {checkForMatchingTrainers() ? (\r\n        renderTrainersList(matchedTrainers)\r\n      ) : (\r\n        <h5 className=\"center red-text text-lighten-2\">\r\n          Brak zarejestrowanych trenerów w Twoim mieście. Spróbuj wyszukiwania w\r\n          innym mieście.\r\n        </h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst headerStyle = { margin: \"10px 0\" };\r\nexport default TrainerList;\r\n","import React from \"react\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"container loader\" style={loaderStyle}>\r\n      <div className=\"preloader-wrapper big active valign-wrapper center\">\r\n        <div className=\"spinner-layer spinner-blue\">\r\n          <div className=\"circle-clipper left\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"gap-patch\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"circle-clipper right\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"spinner-layer spinner-red\">\r\n          <div className=\"circle-clipper left\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"gap-patch\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"circle-clipper right\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"spinner-layer spinner-yellow\">\r\n          <div className=\"circle-clipper left\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"gap-patch\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"circle-clipper right\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"spinner-layer spinner-green\">\r\n          <div className=\"circle-clipper left\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"gap-patch\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n          <div className=\"circle-clipper right\">\r\n            <div className=\"circle\" />\r\n          </div>\r\n        </div>\r\n      </div>{\" \"}\r\n    </div>\r\n  );\r\n};\r\nconst loaderStyle = {\r\n  position: \"fixed\",\r\n  zIndex: 3,\r\n  textAlign: \"center\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%,-50%)\"\r\n};\r\nexport default Loader;\r\n","import React, { Component } from \"react\";\r\nimport Profile from \"./profile/Profile\";\r\nimport Notifications from \"./notifications/Notifications\";\r\nimport TrainerList from \"./trainers/TrainerList\";\r\nimport Loader from \"./Loader\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    const {\r\n      trainers,\r\n      profile,\r\n      profileId,\r\n      notifications,\r\n      match,\r\n      auth\r\n    } = this.props;\r\n\r\n    // keep collections populated for view to load. Thanks to that if statement there is a feeling that all components load at once.\r\n    if (!trainers || !profile || !profileId || !notifications) {\r\n      return <Loader />;\r\n    } else {\r\n      return (\r\n        <div className=\"container\" style={dashboardContainerStyle}>\r\n          <div className=\"row\">\r\n            <Profile profile={profile} profileId={profileId} uid={auth.uid} />\r\n            <Notifications\r\n              profileId={profileId}\r\n              profile={profile}\r\n              match={match}\r\n            />\r\n            {profile.user ? (\r\n              <TrainerList\r\n                trainers={trainers}\r\n                userId={profileId}\r\n                userCity={profile.city}\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst dashboardContainerStyle = {\r\n  maxWidth: \"1800px\",\r\n  width: \"90%\"\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const id = ownProps.match.params.id;\r\n  const users = state.firestore.data.users;\r\n  const trainers = state.firestore.data.trainers;\r\n  const notifications = state.firestore.data.notifications;\r\n  const profiles = { ...users, ...trainers };\r\n\r\n  const profile = profiles ? profiles[id] : null;\r\n\r\n  return {\r\n    profile,\r\n    profileId: id,\r\n    trainers: state.firestore.ordered.trainers,\r\n    notifications,\r\n    auth: state.firebase.auth\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    { collection: \"users\" },\r\n    { collection: \"trainers\" },\r\n    { collection: \"notifications\" }\r\n  ])\r\n)(Dashboard);\r\n","import React, { Component } from \"react\";\r\n\r\nclass TrainingDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.classesRef = React.createRef();\r\n    this.state = {\r\n      orderedClasses: {\r\n        name: \"\",\r\n        duration: 0,\r\n        totalCost: 0\r\n      }\r\n    };\r\n  }\r\n\r\n  activateClasses = () => {\r\n    const ref = this.classesRef.current;\r\n    const name = ref.innerText;\r\n    ref.classList.remove(\"white-text\");\r\n    ref.classList.add(\"green-text\");\r\n    ref.classList.add(\"text-lighten-1\");\r\n    const orderedClasses = { ...this.state.orderedClasses, name };\r\n    this.setState({ orderedClasses });\r\n  };\r\n\r\n  ////\r\n\r\n  deactivateClasses = () => {\r\n    const ref = this.classesRef.current;\r\n    ref.classList.add(\"white-text\");\r\n    ref.classList.remove(\"green-text\");\r\n    const orderedClasses = {\r\n      ...this.state.orderedClasses,\r\n      name: \"\",\r\n      duration: 0,\r\n      totalCost: 0\r\n    };\r\n    this.setState({ orderedClasses });\r\n  };\r\n\r\n  ////\r\n\r\n  incrementDuration = () => {\r\n    const { cost } = this.props.trainerClasses;\r\n    const { orderedClasses } = this.state;\r\n\r\n    if (!orderedClasses.name) return;\r\n\r\n    let duration = orderedClasses.duration;\r\n    let totalCost = orderedClasses.totalCost;\r\n    totalCost += cost;\r\n    duration += 30;\r\n\r\n    // constans + 30min incrementation.\r\n\r\n    const newOrderedClasses = {\r\n      ...orderedClasses,\r\n      duration,\r\n      totalCost\r\n    };\r\n\r\n    this.setState({ orderedClasses: newOrderedClasses });\r\n  };\r\n\r\n  ////\r\n\r\n  decrementDuration = () => {\r\n    const { cost } = this.props.trainerClasses;\r\n    const { orderedClasses } = this.state;\r\n    let duration = orderedClasses.duration;\r\n    let totalCost = orderedClasses.totalCost;\r\n    totalCost -= cost;\r\n    duration -= 30;\r\n\r\n    const newOrderedClasses = {\r\n      ...orderedClasses,\r\n      duration,\r\n      totalCost\r\n    };\r\n\r\n    this.setState({ orderedClasses: newOrderedClasses });\r\n  };\r\n\r\n  ////\r\n\r\n  render() {\r\n    const { trainerClasses } = this.props;\r\n    const {\r\n      orderedClasses,\r\n      orderedClasses: { totalCost }\r\n    } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"row card blue-grey darken-1 \"\r\n        style={{ ...trainingStyle, flexDirection: \"column\" }}\r\n      >\r\n        <div className=\"col s12 m10 l8\" style={trainingStyle}>\r\n          <div>\r\n            <button\r\n              className={\r\n                orderedClasses.name\r\n                  ? \"btn btn-small waves-effect waves-light red  left\"\r\n                  : \"btn btn-small waves-effect waves-light red disabled left\"\r\n              }\r\n              style={buttonsStyle}\r\n              onClick={this.deactivateClasses}\r\n            >\r\n              <i className=\"material-icons\">remove</i>\r\n            </button>\r\n\r\n            <button\r\n              className=\"btn btn-small waves-effect waves-light teal lighten-1 left\"\r\n              style={buttonsStyle}\r\n              onClick={this.activateClasses}\r\n            >\r\n              <i className=\"material-icons\">add</i>\r\n            </button>\r\n          </div>\r\n\r\n          <p className=\"flow-text white-text center\" ref={this.classesRef}>\r\n            {trainerClasses.name}\r\n          </p>\r\n        </div>\r\n        {/* ------------------------------------------------------------------- */}\r\n        <div className=\"col s12 m10 l8\" style={trainingStyle}>\r\n          <div>\r\n            <button\r\n              className={\r\n                orderedClasses.duration > 0\r\n                  ? \"btn btn-small waves-effect waves-light red  left\"\r\n                  : \"btn btn-small waves-effect waves-light red disabled left\"\r\n              }\r\n              style={buttonsStyle}\r\n              onClick={this.decrementDuration}\r\n            >\r\n              <i className=\"material-icons\">remove</i>\r\n            </button>\r\n            <button\r\n              className={\r\n                orderedClasses.name\r\n                  ? \"btn btn-small waves-effect waves-light teal lighten-1  left\"\r\n                  : \"btn btn-small waves-effect waves-light teal lighten-1 disabled left\"\r\n              }\r\n              style={buttonsStyle}\r\n              onClick={this.incrementDuration}\r\n            >\r\n              <i className=\"material-icons\">add</i>\r\n            </button>\r\n          </div>\r\n          <p className=\"flow-text  white-text right\">\r\n            {orderedClasses.duration}min\r\n          </p>\r\n        </div>\r\n        {/* ------------------------------------------------------------------- */}\r\n        <div\r\n          className=\"col s12 m10 l8 card blue-grey darken-1\"\r\n          style={trainingStyle}\r\n        >\r\n          <div className=\"col s12 m10 l8\">\r\n            <p className=\"white-text\">\r\n              <span className=\"flow-text left\">Cena (zł)</span>\r\n              <span className=\"flow-text\" style={{ padding: \"0 20px\" }}>\r\n                {orderedClasses.totalCost}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <button\r\n              className={`btn ${\r\n                orderedClasses.name && orderedClasses.duration > 0\r\n                  ? \"\"\r\n                  : \"disabled\"\r\n              }`}\r\n              onClick={() =>\r\n                this.props.passOrderedClasses(orderedClasses, totalCost)\r\n              }\r\n            >\r\n              Zatwierdź\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst trainingStyle = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  margin: \"20px 0\"\r\n};\r\n\r\nconst buttonsStyle = {\r\n  margin: \"10px\",\r\n  width: \"70px\"\r\n};\r\n\r\nexport default TrainingDetail;\r\n","import React from \"react\";\r\n\r\nconst DatePicker = ({ setTrainingDate, date, time, description }) => {\r\n  const minDate = new Date().toISOString().split(\"T\")[0];\r\n  const minHours = new Date().getHours();\r\n  const minMinutes = new Date().getMinutes();\r\n\r\n  return (\r\n    <form className=\"col s12\">\r\n      <div className=\"input-field col s6\">\r\n        <input\r\n          type=\"date\"\r\n          min={minDate}\r\n          placeholder=\"pick a date\"\r\n          id=\"date\"\r\n          required\r\n          onChange={setTrainingDate}\r\n          value={date}\r\n        />{\" \"}\r\n        <label htmlFor=\"date\">Wybierz datę</label>\r\n      </div>\r\n      <div className=\"input-field col s6\">\r\n        <input\r\n          type=\"time\"\r\n          placeholder=\"pick a time\"\r\n          id=\"time\"\r\n          onChange={setTrainingDate}\r\n          value={time}\r\n          min={`${minHours}:${minMinutes}`.toString()}\r\n          required\r\n        />\r\n        <label htmlFor=\"date\">Wybierz godzinę</label>\r\n      </div>\r\n      <div\r\n        className=\"input-field col s12\"\r\n        style={{ margin: \"10px 0\", padding: \"20px 0\" }}\r\n      >\r\n        <textarea\r\n          id=\"description\"\r\n          className=\"materialize-textarea\"\r\n          value={description}\r\n          onChange={setTrainingDate}\r\n        />\r\n        <label htmlFor=\"description\">\r\n          Dodatkowe informacje dla trenera (np. miejsce spotkania, nr telefonu)\r\n        </label>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default DatePicker;\r\n","import React, { Component } from \"react\";\r\nimport TrainingDetail from \"./TrainingDetail\";\r\nimport addTraining from \"../../store/actions/addTraining\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport DatePicker from \"./DatePicker\";\r\n\r\nclass TrainingList extends Component {\r\n  state = {\r\n    totalCost: 0,\r\n    orderedClasses: [],\r\n    date: \"\",\r\n    time: \"\",\r\n    description: \"\",\r\n    correctDate: true\r\n  };\r\n\r\n  setTrainingDate = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  randClassTypeId = () => Math.random();\r\n\r\n  // passing data from lower components\r\n  passOrderedClasses = (orderedClasses, totalCost) => {\r\n    const updatedOrderedClasses = [\r\n      ...this.state.orderedClasses,\r\n      orderedClasses\r\n    ];\r\n\r\n    this.setState({\r\n      orderedClasses: updatedOrderedClasses,\r\n      totalCost: this.state.totalCost + totalCost\r\n    });\r\n  };\r\n\r\n  deleteClasses = (id, totalCost) => {\r\n    const updatedClasses = this.state.orderedClasses.filter((c, index) => {\r\n      return index !== id;\r\n    });\r\n    this.setState({\r\n      orderedClasses: [...updatedClasses],\r\n      totalCost: this.state.totalCost - totalCost\r\n    });\r\n  };\r\n\r\n  // sends data to database in notification collection\r\n  reserveTraining = () => {\r\n    const { trainerid, userid } = this.props.match.params;\r\n    const { date, time, description } = this.state;\r\n    const training = this.state.orderedClasses;\r\n\r\n    const info = {};\r\n    // adding trainer and user id to notification collection\r\n    info.trainerId = trainerid;\r\n    info.userId = userid;\r\n    // adding starting status\r\n    info.trainingStatus = \"pending\";\r\n    // date and time of training\r\n    info.date = date;\r\n    info.time = time;\r\n    // additional info for trainer\r\n    info.description = description;\r\n\r\n    const years = parseInt(info.date.split(\"-\")[0]);\r\n    const months = parseInt(info.date.split(\"-\")[1]);\r\n    const days = parseInt(info.date.split(\"-\")[2]);\r\n    const hours = parseInt(info.time.split(\":\")[0]);\r\n    const mins = parseInt(info.time.split(\":\")[1]);\r\n\r\n    // parsing local time from state to UTC\r\n    const utcDate = Date.UTC(years, months - 1, days, hours - 1, mins, 0, 0);\r\n\r\n    if (utcDate < Date.now()) {\r\n      this.setState({ correctDate: false });\r\n      return;\r\n    } else {\r\n      this.setState({ correctDate: true });\r\n      this.props.addTraining(training, info);\r\n      this.props.history.goBack();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.trainerClasses) {\r\n      const {\r\n        totalCost,\r\n        orderedClasses,\r\n        date,\r\n        time,\r\n        description,\r\n        correctDate\r\n      } = this.state;\r\n      const { trainerClasses } = this.props;\r\n      const {\r\n        passOrderedClasses,\r\n        reserveTraining,\r\n        deleteClasses,\r\n        setTrainingDate\r\n      } = this;\r\n\r\n      return (\r\n        <div className=\"container\">\r\n          <h4 className=\"center\">Dodawanie Treningu</h4>\r\n          {trainerClasses\r\n            ? trainerClasses.map(classType => {\r\n                return (\r\n                  <TrainingDetail\r\n                    key={this.randClassTypeId()}\r\n                    trainerClasses={classType}\r\n                    passOrderedClasses={passOrderedClasses}\r\n                  />\r\n                );\r\n              })\r\n            : null}\r\n\r\n          {this.state.orderedClasses ? (\r\n            <React.Fragment>\r\n              <div\r\n                className=\"col s12 card blue-grey darken-1\"\r\n                style={{ padding: \"10px\" }}\r\n              >\r\n                {this.state.orderedClasses.map((oc, id) => (\r\n                  <div key={this.randClassTypeId()} className=\"white-text\">\r\n                    <h6>Dodano: {oc.name}</h6>\r\n                    <h6>Czas: {oc.duration}min</h6>\r\n                    <h6>Koszt: {oc.totalCost} zł</h6>\r\n                    <button\r\n                      className=\"btn\"\r\n                      onClick={() => {\r\n                        deleteClasses(id, oc.totalCost);\r\n                      }}\r\n                    >\r\n                      Usuń\r\n                    </button>\r\n                  </div>\r\n                ))}{\" \"}\r\n                <h6 className=\"white-text\">\r\n                  Całkowity koszt treningu: {totalCost}\r\n                </h6>\r\n              </div>\r\n              {/* datePicker */}\r\n              {this.state.orderedClasses.length > 0 ? (\r\n                <DatePicker\r\n                  setTrainingDate={setTrainingDate}\r\n                  date={date}\r\n                  time={time}\r\n                  description={description}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {correctDate ? null : (\r\n                <h5 className=\"center red-text lighten-text-4\">\r\n                  Podana data jest zbyt wczesna\r\n                </h5>\r\n              )}\r\n              <button\r\n                className={\r\n                  orderedClasses.length !== 0 &&\r\n                  date !== \"\" &&\r\n                  time !== \"\" &&\r\n                  description !== \"\"\r\n                    ? \"btn\"\r\n                    : \"btn disabled\"\r\n                }\r\n                style={{ margin: \"10px 0\" }}\r\n                onClick={reserveTraining}\r\n              >\r\n                Umów spotkanie\r\n              </button>{\" \"}\r\n            </React.Fragment>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"center valign-center flow-text\">\r\n          Trener nie dodał jeszcze żadnych zajęć do swojej oferty treningowej.\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const trainerId = ownProps.match.params.trainerid;\r\n\r\n  const trainers = state.firestore.data.trainers;\r\n\r\n  const trainerClasses = trainers ? trainers[trainerId].classes : null;\r\n\r\n  return { trainerClasses };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addTraining: (training, info) => dispatch(addTraining(training, info))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  firestoreConnect([{ collection: \"trainers\" }])\r\n)(TrainingList);\r\n","import { ADD_TRAINING, ADD_TRAINING_ERROR } from \"../types\";\r\nexport default (training, info) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n\r\n    firestore\r\n      .collection(\"notifications\")\r\n      .add({\r\n        training,\r\n        info,\r\n        createdAt: new Date()\r\n      })\r\n      .then(() => {\r\n        dispatch({\r\n          type: ADD_TRAINING,\r\n          training\r\n        });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: ADD_TRAINING_ERROR, err });\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer teal lighten-1 z-depth-1\">\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container right-align\">\r\n          © 2019\r\n          <a\r\n            className=\"grey-text text-lighten-4 right\"\r\n            href=\"https://lexaeterna.000webhostapp.com/\"\r\n            style={{ margin: \"0 10px\" }}\r\n          >\r\n            Lex Aeterna\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nconst About = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"col s12 m7\">\r\n        <h2 className=\"header\">Informacje o aplikacji</h2>\r\n\r\n        <div className=\"card center-aligned\">\r\n          <div className=\"row\">\r\n            <div className=\"col s12 m6\">\r\n              <div\r\n                className=\"card-image \"\r\n                style={{\r\n                  maxWidth: \"90%\"\r\n                }}\r\n              >\r\n                <img\r\n                  src=\"https://images.pexels.com/photos/1638324/pexels-photo-1638324.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\"\r\n                  alt=\"woman with dumbbells\"\r\n                  style={imgStyle}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col s12 m6\">\r\n              <div className=\"card-stacked\">\r\n                <div className=\"card-content valign-wrapper\">\r\n                  <p className=\"flow-text\" style={{ lineHeight: \"200%\" }}>\r\n                    Train Through Life&reg; jest aplikacją przeznaczoną do\r\n                    komunikacji na linii ćwiczący-trener personalny. Dzięki\r\n                    aplikacji użytkownicy mogą w każdym momencie dotrzeć do\r\n                    zarejestrowanych trenerów i proponować terminy spotkań.\r\n                    Aplikacja jest świetnym narzędziem dla osób szukających\r\n                    szybkich i pewnych rozwiązań w poszukiwaniu zajęć z\r\n                    ulubionym trenerem personalnym.\r\n                  </p>\r\n                </div>\r\n                <Link to=\"/\" className=\"btn\">\r\n                  Powrót do strony logowania\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst imgStyle = {\r\n  margin: \"20px\",\r\n  position: \"relative\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%,0)\"\r\n};\r\nexport default About;\r\n","import { EDIT_PROFILE, EDIT_PROFILE_ERROR } from \"../types\";\r\n\r\nexport const editProfile = (profile, id) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n\r\n    const firestore = getFirestore();\r\n    const firebase = getFirebase();\r\n\r\n    const user = firebase.auth().currentUser;\r\n\r\n    const { email, password } = profile;\r\n\r\n    user\r\n      .updateEmail(email)\r\n      .then(() => {\r\n        user\r\n          .updatePassword(password)\r\n          .catch(function(error) {\r\n            console.log(error);\r\n          });\r\n      });\r\n\r\n    const oldProfile = getState().firestore.data.users[id]\r\n      ? getState().firestore.data.users[id]\r\n      : getState().firestore.data.trainers[id];\r\n\r\n    const updatedProfile = { ...oldProfile, ...profile };\r\n\r\n    firestore\r\n      .collection(oldProfile.user ? \"users\" : \"trainers\")\r\n      .doc(id)\r\n      .set(updatedProfile)\r\n      .then(function() {\r\n        dispatch({ type: EDIT_PROFILE });\r\n      })\r\n      .catch(function(err) {\r\n        dispatch({ type: EDIT_PROFILE_ERROR, err });\r\n      });\r\n  };\r\n};\r\n\r\nexport default editProfile;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport editProfile from \"../../store/actions/editProfile\";\r\n\r\nexport class EditProfile extends Component {\r\n  state = {\r\n    profileData: {\r\n      email: \"\",\r\n      password: \"\",\r\n      city: \"\",\r\n      phone: \"\"\r\n    },\r\n    profileLoaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ profileLoaded: false });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (!this.state.profileLoaded && this.props.profile) {\r\n      this.uploadProfile();\r\n    }\r\n  }\r\n\r\n  uploadProfile = () => {\r\n    const profile = this.props.profile;\r\n\r\n    this.setState({ profileData: { ...profile }, profileLoaded: true });\r\n  };\r\n\r\n  onInputChange = e => {\r\n    this.setState({\r\n      profileData: { ...this.state.profileData, [e.target.id]: e.target.value }\r\n    });\r\n  };\r\n\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.profileData.password.length < 6) return;\r\n    const { profileData } = this.state;\r\n    this.setState({ profileLoaded: false });\r\n    const id = this.props.match.params.id;\r\n\r\n    this.props.editProfile(profileData, id);\r\n    this.props.history.push(`/dashboard/${id}`);\r\n  };\r\n\r\n  render() {\r\n    const { email, password, city, phone } = this.state.profileData;\r\n\r\n    const { onFormSubmit, onInputChange } = this;\r\n\r\n    return (\r\n      <div className=\"container center\">\r\n        <h3>Edytuj profil</h3>\r\n\r\n        <div className=\"row\">\r\n          <form className=\"col s12\" onSubmit={onFormSubmit}>\r\n            <div className=\"row \">\r\n              <div className=\"input-field col s10 m6\">\r\n                <i className=\"material-icons prefix\">email</i>\r\n                <input\r\n                  id=\"email\"\r\n                  type=\"text\"\r\n                  className=\"validate\"\r\n                  required\r\n                  value={email}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n              <div className=\"input-field col s10 m6\">\r\n                <i className=\"material-icons prefix\">vpn_key</i>\r\n                <input\r\n                  id=\"password\"\r\n                  type=\"text\"\r\n                  className=\"validate\"\r\n                  required\r\n                  value={password}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"input-field col s10 m6\">\r\n                <i className=\"material-icons prefix\">location_city</i>\r\n                <input\r\n                  id=\"city\"\r\n                  type=\"text\"\r\n                  className=\"validate\"\r\n                  required\r\n                  value={city}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n              <div className=\"input-field col s10 m6\">\r\n                <i className=\"material-icons prefix\">phone</i>\r\n                <input\r\n                  id=\"phone\"\r\n                  type=\"tel\"\r\n                  placeholder=\"numer musi być dziewięciocyfrowy\"\r\n                  className=\"validate\"\r\n                  pattern=\"[0-9]{9}\"\r\n                  value={phone}\r\n                  onChange={this.onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              className={\r\n                password && password.length < 6 ? \"btn disabled\" : \"btn\"\r\n              }\r\n            >\r\n              Zatwierdź zmiany\r\n            </button>\r\n            {password && password.length < 6 ? (\r\n              <h6 className=\"red-text\">Hasło musi mieć conajmniej 6 znaków</h6>\r\n            ) : null}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const id = ownProps.match.params.id;\r\n\r\n  const users = state.firestore.data.users;\r\n  const trainers = state.firestore.data.trainers;\r\n\r\n  const profiles = { ...users, ...trainers };\r\n\r\n  const profile = profiles[id];\r\n\r\n  return {\r\n    profile\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    editProfile: (profile, id) => dispatch(editProfile(profile, id))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  firestoreConnect([{ collection: \"users\" }, { collection: \"trainers\" }])\r\n)(EditProfile);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../Loader\";\r\nimport editTraining from \"../../store/actions/editTraining\";\r\n\r\nclass EditTraining extends Component {\r\n  state = {\r\n    trainingStatus: \"approved\",\r\n    approvedChecked: true,\r\n    canceledChecked: false\r\n  };\r\n\r\n  onInputChange = e => {\r\n    if (e.target.id === \"approved\") {\r\n      this.setState({\r\n        approvedChecked: true,\r\n        canceledChecked: false,\r\n        trainingStatus: e.target.id\r\n      });\r\n    } else if (e.target.id === \"canceled\") {\r\n      this.setState({\r\n        approvedChecked: false,\r\n        canceledChecked: true,\r\n        trainingStatus: e.target.id\r\n      });\r\n    }\r\n  };\r\n\r\n  resolveTraining = () => {\r\n    // id of notification to update through actionCreator\r\n    const trainingId = this.props.match.params.trainingId;\r\n\r\n    this.props.editTraining(this.state.trainingStatus, trainingId);\r\n  };\r\n\r\n  calculateTotalCost = () => {\r\n    const { training } = this.props.notification[0];\r\n    let totalCost = training.map(t => t.totalCost);\r\n    return totalCost.reduce((a, b) => {\r\n      return a + b;\r\n    }, 0);\r\n  };\r\n\r\n  randTrainingId = () => Math.random();\r\n\r\n  renderTrainingList = () => {\r\n    const { training } = this.props.notification[0];\r\n\r\n    return training.map(t => {\r\n      return (\r\n        <div key={this.randTrainingId()} style={trainingListStyle}>\r\n          <p>Nazwa Treningu: {t.name}</p>\r\n          <p>Czas Trwania Treningu: {t.duration}</p>\r\n          <p>Kwota Zapłaty Za Trening: {t.totalCost}</p>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const checkboxes = () => (\r\n      <React.Fragment>\r\n        <p>\r\n          <label className=\"left-align\">\r\n            <input\r\n              id=\"approved\"\r\n              type=\"checkbox\"\r\n              onChange={this.onInputChange}\r\n              checked={this.state.approvedChecked}\r\n            />\r\n            <span className=\"green-text\">Potwierdź Trening</span>\r\n          </label>\r\n        </p>\r\n        <p>\r\n          <label className=\"left-align\">\r\n            <input\r\n              className=\"red-text\"\r\n              id=\"canceled\"\r\n              type=\"checkbox\"\r\n              onChange={this.onInputChange}\r\n              checked={this.state.canceledChecked}\r\n            />\r\n            <span className=\"red-text\">Anuluj Trening</span>\r\n          </label>\r\n        </p>\r\n      </React.Fragment>\r\n    );\r\n\r\n    const { notification, first_name, last_name } = this.props;\r\n\r\n    if (!notification) return <Loader />;\r\n    else {\r\n      const {\r\n        date,\r\n        time,\r\n        description,\r\n        trainerId\r\n      } = this.props.notification[0].info;\r\n      return (\r\n        <div className=\"container center\">\r\n          <h3 className=\"\">Zarządzaj Treningiem</h3>\r\n\r\n          <div className=\"row \">\r\n            <div className=\"col s12 center\">\r\n              <div className=\"card blue-grey darken-1\">\r\n                <div className=\"card-content white-text\">\r\n                  <h6 className=\"card-title\">\r\n                    Trening wysłany od użytkownika {first_name} {last_name}\r\n                  </h6>\r\n                  <p>\r\n                    Proponowana Data Spotkania: {date} {time}\r\n                  </p>\r\n                  <div style={trainingListStyle}>\r\n                    Wiadomości Dodatkowe:\r\n                    <p>{description}</p>\r\n                  </div>\r\n                  {this.renderTrainingList()}\r\n                  <p\r\n                    className=\"green-text text-lighten-2 flow-text\"\r\n                    style={trainingListStyle}\r\n                  >\r\n                    Kwota Za Proponowane Treningi: {this.calculateTotalCost()}{\" \"}\r\n                    zł\r\n                  </p>\r\n                </div>\r\n                <div className=\"input-field col s10 m6\" style={checkboxesStyle}>\r\n                  <span>Wybierz akcję związaną z treningiem:</span>\r\n                  {checkboxes()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Link\r\n            to={`/dashboard/${trainerId}`}\r\n            className=\"btn\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            {\" \"}\r\n            Wróć do panelu głównego\r\n          </Link>\r\n          <Link\r\n            onClick={this.resolveTraining}\r\n            to={`/dashboard/${trainerId}`}\r\n            className=\"btn\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            Zatwierdź wybór\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst checkboxesStyle = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"flex-start\",\r\n  justifyContent: \"center\"\r\n};\r\n\r\nconst trainingListStyle = {\r\n  padding: \"15px 0\",\r\n  textAlign: \"left\"\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  if (state.firestore.ordered.notifications) {\r\n    const trainingId = ownProps.match.params.trainingId;\r\n    const notifications = state.firestore.ordered.notifications\r\n      ? state.firestore.ordered.notifications\r\n      : [];\r\n    const notification = notifications.filter(\r\n      notifi => trainingId === notifi.id\r\n    );\r\n\r\n    const userId = notification[0].info.userId;\r\n\r\n    const first_name = userId\r\n      ? state.firestore.data.users[userId].first_name\r\n      : null;\r\n    const last_name = userId\r\n      ? state.firestore.data.users[userId].last_name\r\n      : null;\r\n    return {\r\n      notification,\r\n      first_name,\r\n      last_name\r\n    };\r\n  } else return {};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    editTraining: (trainingStatus, trainingId) =>\r\n      dispatch(editTraining(trainingStatus, trainingId))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  firestoreConnect([{ collection: \"users\" }, { collection: \"notifications\" }])\r\n)(EditTraining);\r\n","import { EDIT_TRAINING, EDIT_TRAINING_ERROR } from \"../types\";\r\n\r\nexport default (trainingStatus, trainingId) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n\r\n    if (trainingId) {\r\n      const oldTraining = getState().firestore.data.notifications[trainingId];\r\n\r\n      // training status update due to trainer action\r\n      const updatedInfo = { ...oldTraining.info, trainingStatus };\r\n\r\n      const updatedTraining = {\r\n        ...oldTraining,\r\n        info: updatedInfo\r\n      };\r\n\r\n      firestore\r\n        .collection(\"notifications\")\r\n        .doc(trainingId)\r\n        .set({\r\n          ...updatedTraining,\r\n          createdAt: new Date()\r\n        })\r\n        .then(() => {\r\n          dispatch({\r\n            type: EDIT_TRAINING,\r\n            trainingStatus\r\n          });\r\n        })\r\n        .catch(err => {\r\n          dispatch({ type: EDIT_TRAINING_ERROR, err });\r\n        });\r\n    }\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nimport Notification from \"../notifications/Notification\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nconst TrainingHistory = props => {\r\n  const renderNotifications = () => {\r\n    const { profileId, profile, notifications } = props;\r\n\r\n    // filter to get right notifs\r\n    const notificationsFiltered = [\r\n      ...notifications.filter(n => {\r\n        const { userId, trainerId } = n.info;\r\n        return userId === profileId || trainerId === profileId;\r\n      })\r\n    ]\r\n      // sort by timestamps\r\n      .sort((a, b) => {\r\n        if (a.createdAt > b.createdAt) {\r\n          return -1;\r\n        } else {\r\n          return 1;\r\n        }\r\n      });\r\n\r\n    return notificationsFiltered.map(notification => {\r\n      return (\r\n        <Notification\r\n          profile={profile}\r\n          notification={notification}\r\n          key={notification.id}\r\n          profileId={profileId}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  if (props.notifications) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"card col s12\">\r\n          <div className=\"card blue-grey darken-1\">\r\n            <div className=\"card-content white-text\">\r\n              <h5 className=\"card-title center\" style={headerStyle}>\r\n                Historia Twoich Treningów\r\n              </h5>\r\n              <ul>{renderNotifications()}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst headerStyle = { margin: \"10px 0\" };\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let notifications = state.firestore.ordered.notifications;\r\n\r\n  const id = ownProps.match.params.profileId;\r\n  const users = state.firestore.data.users;\r\n  const trainers = state.firestore.data.trainers;\r\n\r\n  const profiles = { ...users, ...trainers };\r\n\r\n  const profile = profiles ? profiles[id] : null;\r\n\r\n  return {\r\n    profile,\r\n    profileId: id,\r\n    trainers: state.firestore.ordered.trainers,\r\n    notifications,\r\n    auth: state.firebase.auth\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    { collection: \"users\" },\r\n    { collection: \"trainers\" },\r\n    { collection: \"notifications\" }\r\n  ])\r\n)(TrainingHistory);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport editTrainerDescription from \"../../store/actions/editTrainerDescription\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass TrainerDescription extends Component {\r\n  state = { description: \"\" };\r\n\r\n  descUpdate = e => {\r\n    this.setState({ description: e.currentTarget.value });\r\n  };\r\n\r\n  renderDescription = () => {\r\n    const { description: oldDescription } = this.props;\r\n    const { description: newDescription } = this.state;\r\n    return oldDescription ? (\r\n      <textarea\r\n        style={textAreaStyle}\r\n        onChange={this.descUpdate}\r\n        defaultValue={oldDescription}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        style={textAreaStyle}\r\n        onChange={this.descUpdate}\r\n        value={newDescription ? newDescription : \"\"}\r\n        placeholder=\"Dodaj swój opis\"\r\n      />\r\n    );\r\n  };\r\n\r\n  changeDesc = () => {\r\n    const profileId = this.props.match.params.profileId;\r\n    this.props.editDescription(this.state.description, profileId);\r\n    this.props.history.push(`/dashboard/${profileId}`);\r\n  };\r\n\r\n  render() {\r\n    const profileId = this.props.match.params.profileId;\r\n    return (\r\n      <div className=\"container\">\r\n        <h5 className=\"center\">Zarządzanie Opisem</h5>\r\n        <div className=\"row\">\r\n          <h6 className=\"center\">Twój opis:</h6>\r\n          <div className=\"col s12 center-align \">\r\n            {this.renderDescription()}\r\n            <div>\r\n              <Link\r\n                to={`/dashboard/${profileId}`}\r\n                className=\"btn\"\r\n                style={buttonsStyle}\r\n              >\r\n                Powrót\r\n              </Link>\r\n              <button\r\n                className=\"btn\"\r\n                style={buttonsStyle}\r\n                onClick={() => this.changeDesc()}\r\n              >\r\n                Zatwierdź\r\n              </button>{\" \"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst buttonsStyle = {\r\n  margin: \"0 5px\"\r\n};\r\nconst textAreaStyle = {\r\n  width: \"90%\",\r\n  height: \"50vh\",\r\n  margin: \"0 auto\"\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const id = ownProps.match.params.profileId;\r\n\r\n  const description = state.firestore.data.trainers\r\n    ? state.firestore.data.trainers[id].description\r\n    : null;\r\n\r\n  return {\r\n    description\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    editDescription: (description, profileId) => {\r\n      dispatch(editTrainerDescription(description, profileId));\r\n    }\r\n  };\r\n};\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  firestoreConnect([{ collection: \"trainers\" }])\r\n)(TrainerDescription);\r\n","import { EDIT_DESCRIPTION, EDIT_DESCRIPTION_ERROR } from \"../types\";\r\n\r\nexport default (description, profileId) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n\r\n    if (profileId) {\r\n      const oldDescription = getState().firestore.data.trainers[profileId];\r\n\r\n      // training status update due to trainer action\r\n      const updatedDescription = { ...oldDescription, description };\r\n\r\n      firestore\r\n        .collection(\"trainers\")\r\n        .doc(profileId)\r\n        .set({\r\n          ...updatedDescription,\r\n          createdAt: new Date()\r\n        })\r\n        .then(() => {\r\n          dispatch({\r\n            type: EDIT_DESCRIPTION,\r\n            description\r\n          });\r\n        })\r\n        .catch(err => {\r\n          dispatch({ type: EDIT_DESCRIPTION_ERROR, err });\r\n        });\r\n    }\r\n  };\r\n};\r\n","import { EDIT_CLASSES, EDIT_CLASSES_ERROR } from \"../types\";\r\n\r\nexport const editClasses = (classes, id) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    // make async call to database\r\n    const firestore = getFirestore();\r\n\r\n    const oldClasses = getState().firestore.data.trainers[id];\r\n\r\n    // const updatedClasses = [...oldClasses.classes, [...classes]];\r\n    const updatedClasses = { ...oldClasses, ...oldClasses[classes], classes };\r\n\r\n    firestore\r\n      .collection(\"trainers\")\r\n      .doc(id)\r\n      .set(updatedClasses)\r\n      .then(function() {\r\n        dispatch({ type: EDIT_CLASSES });\r\n      })\r\n      .catch(function(err) {\r\n        dispatch({ type: EDIT_CLASSES_ERROR, err });\r\n      });\r\n  };\r\n};\r\n\r\nexport default editClasses;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport editTrainerClasses from \"../../store/actions/editTrainerClasses\";\r\n\r\nclass TrainerClasses extends Component {\r\n  state = {\r\n    newTraining: {\r\n      name: \"\",\r\n      cost: \"\"\r\n    },\r\n    classes: [],\r\n    profileLoaded: false\r\n  };\r\n\r\n  randClassTypeId = () => Math.random();\r\n\r\n  addTrainingsToState = () => {\r\n    const trainings = this.props.trainings;\r\n    if (!this.state.profileLoaded && (trainings && trainings.length !== 0)) {\r\n      this.setState({ classes: [...trainings] });\r\n      this.setState({ profileLoaded: true });\r\n    } else return null;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.addTrainingsToState();\r\n  }\r\n\r\n  deleteTraining = e => {\r\n    const targetId = parseInt(e.target.parentNode.id);\r\n\r\n    const trainings = this.state.classes.filter((training, index) => {\r\n      return index !== targetId;\r\n    });\r\n\r\n    this.setState({\r\n      classes: [...trainings]\r\n    });\r\n  };\r\n\r\n  addTraining = e => {\r\n    e.preventDefault();\r\n    const classes = [...this.state.classes, this.state.newTraining];\r\n\r\n    this.setState({ classes });\r\n    this.setState({ newTraining: { name: \"\", cost: \"\" } });\r\n  };\r\n\r\n  renderTrainings = () => {\r\n    const trainings = this.state.classes;\r\n\r\n    return trainings.map((training, index) => {\r\n      const id = Math.random();\r\n\r\n      return (\r\n        <li className=\"collection-item\" key={id} id={index}>\r\n          <p> Nazwa Treningu: {training.name}</p>\r\n          <p> Koszt Treningu: {training.cost}</p>\r\n          <button className=\"btn\" onClick={e => this.deleteTraining(e)}>\r\n            Usuń\r\n          </button>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  onInputChange = e => {\r\n    const updatedTraining =\r\n      e.target.id === \"cost\"\r\n        ? { [e.target.id]: parseInt(e.target.value) }\r\n        : { [e.target.id]: e.target.value };\r\n\r\n    const newTraining = {\r\n      ...this.state.newTraining,\r\n      ...updatedTraining\r\n    };\r\n\r\n    this.setState({ newTraining });\r\n  };\r\n\r\n  editClasses = () => {\r\n    const id = this.props.match.params.profileId;\r\n\r\n    this.props.editClasses(this.state.classes, id);\r\n\r\n    this.props.history.push(`/dashboard/${id}`);\r\n  };\r\n\r\n  render() {\r\n    const profileId = this.props.match.params.profileId;\r\n    return (\r\n      <div className=\"container center\">\r\n        <h3>Edytuj Treningi</h3>\r\n        <div className=\"row\">\r\n          <form className=\"col s12\">\r\n            <div className=\"row \">\r\n              <div className=\"input-field col s6\">\r\n                <input\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  className=\"validate\"\r\n                  required\r\n                  placeholder=\" Nazwa Treningu\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.newTraining.name}\r\n                />\r\n              </div>\r\n              <div className=\"input-field col s6\">\r\n                <input\r\n                  id=\"cost\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  className=\"validate\"\r\n                  required\r\n                  placeholder=\"Koszt za 30 min\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.newTraining.cost}\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className={\r\n                this.state.newTraining.name && this.state.newTraining.cost\r\n                  ? \"btn\"\r\n                  : \"btn disabled\"\r\n              }\r\n              onClick={this.addTraining}\r\n              style={buttonsStyle}\r\n            >\r\n              Dodaj\r\n            </button>{\" \"}\r\n          </form>\r\n        </div>\r\n        <div className=\"row\">\r\n          <ul className=\"collection\">{this.renderTrainings()}</ul>\r\n        </div>\r\n        <Link\r\n          to={`/dashboard/${profileId}`}\r\n          className=\"btn\"\r\n          style={buttonsStyle}\r\n        >\r\n          Powrót\r\n        </Link>\r\n        <button className=\"btn\" style={buttonsStyle} onClick={this.editClasses}>\r\n          Zatwierdź\r\n        </button>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst buttonsStyle = {\r\n  margin: \"0 5px\"\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const profileId = ownProps.match.params.profileId;\r\n  const trainings = state.firestore.data.trainers\r\n    ? state.firestore.data.trainers[profileId].classes\r\n    : [];\r\n\r\n  return {\r\n    trainings\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    editClasses: (classes, id) => dispatch(editTrainerClasses(classes, id))\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  firestoreConnect([{ collection: \"trainers\" }])\r\n)(TrainerClasses);\r\n","import React, { Component } from \"react\";\r\nimport { storage } from \"../../../fbConfig/index\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nclass EditPhoto extends Component {\r\n  state = { photo: \"\", photoReady: false, uploadProgress: 0, redirect: false };\r\n\r\n  onPhotoUpload = e => {\r\n    if (e.target.files[0]) {\r\n      const photo = e.target.files[0];\r\n      this.setState({ photo, photoReady: true });\r\n    }\r\n  };\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const storageRef = storage.ref();\r\n    const imagesRef = storageRef.child(`avatar_photos/${this.props.auth.uid}`);\r\n    const uploadTask = imagesRef.put(this.state.photo);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        let progress = Math.round(\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        );\r\n        this.setState({ uploadProgress: progress });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n          setTimeout(() => {\r\n            this.setState({ redirect: true });\r\n          }, 1000);\r\n        });\r\n      }\r\n    );\r\n  };\r\n  render() {\r\n    const { photoReady, uploadProgress, redirect, photo } = this.state;\r\n\r\n    const { onFormSubmit } = this;\r\n    return (\r\n      <div className=\"container center\">\r\n        <h3>Edytuj Zdjęcie</h3>\r\n        {redirect ? <Redirect to={`/dashboard/${this.props.id}`} /> : null}\r\n        <div className=\"row\">\r\n          <form className=\"col s12\" onSubmit={onFormSubmit}>\r\n            <div className=\"row center\">\r\n              <div className=\"input-field col s12\">\r\n                <div className=\"btn\">\r\n                  <input type=\"file\" onChange={this.onPhotoUpload} />{\" \"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Link\r\n              to={`/dashboard/${this.props.id}`}\r\n              className=\"btn\"\r\n              style={linkStyle}\r\n            >\r\n              Powrót\r\n            </Link>\r\n            <button\r\n              className={!photo ? \"btn disabled\" : \"btn\"}\r\n              style={linkStyle}\r\n            >\r\n              Zatwierdź wybór\r\n            </button>\r\n          </form>\r\n          <progress value={this.state.uploadProgress} max=\"100\" />\r\n          {uploadProgress !== 0 && uploadProgress !== 100 ? (\r\n            <h6 className=\"yellow-text\">Ładuję zdjęcie profilowe</h6>\r\n          ) : null}\r\n          {photoReady && uploadProgress === 100 ? (\r\n            <h6 className=\"green-text\">Zdjęcie profilowe załadowane</h6>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst linkStyle = {\r\n  margin: \"0px 5px 5px 5px\"\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const id = ownProps.match.params.profileId;\r\n\r\n  const users = state.firestore.data.users;\r\n  const trainers = state.firestore.data.trainers;\r\n\r\n  const profiles = { ...users, ...trainers };\r\n\r\n  const profile = profiles[id] || \"\";\r\n\r\n  const email = profile.email;\r\n\r\n  return { id, email, auth: state.firebase.auth };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([{ collection: \"users\" }, { collection: \"trainers\" }])\r\n)(EditPhoto);\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Navbar from \"./components/project/Navbar\";\nimport AuthPreloader from \"./components/project/auth/AuthPreloader\";\nimport SignUp from \"./components/project/auth/SignUp\";\nimport SignIn from \"./components/project/auth/SignIn\";\nimport Dashboard from \"./components/project/Dashboard\";\n\nimport TrainingList from \"./components/project/training/TrainingList\";\nimport About from \"./components/project/About\";\nimport EditProfile from \"./components/project/profile/EditProfile\";\nimport EditTraining from \"./components/project/training/EditTraining\";\nimport TrainingHistory from \"./components/project/profile/TrainingHistory\";\nimport TrainerDescription from \"./components/project/profile/TrainerDescription\";\nimport TrainerClasses from \"./components/project/profile/TrainerClasses\";\nimport EditPhoto from \"./components/project/profile/EditPhoto\";\nclass App extends Component {\n  render() {\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <React.Fragment>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\" component={AuthPreloader} />\n            <Route exact path=\"/signup\" component={SignUp} />\n            <Route exact path=\"/about\" component={About} />\n            <Route exact path=\"/signinuser\" component={SignIn} />\n            <Route exact path=\"/signintrainer\" component={SignIn} />\n            <Route exact path=\"/dashboard/:id\" component={Dashboard} />\n            <Route\n              exact\n              path=\"/addtraining/:trainerid/:userid\"\n              component={TrainingList}\n            />\n            <Route exact path=\"/editprofile/:id\" component={EditProfile} />\n            <Route\n              exact\n              path=\"/editTraining/:trainingId\"\n              component={EditTraining}\n            />\n            <Route\n              exact\n              path=\"/traininghistory/:profileId\"\n              component={TrainingHistory}\n            />\n            <Route\n              exact\n              path=\"/trainerdescription/:profileId\"\n              component={TrainerDescription}\n            />\n            <Route\n              exact\n              path=\"/trainerclasses/:profileId\"\n              component={TrainerClasses}\n            />\n            <Route exact path=\"/editphoto/:profileId\" component={EditPhoto} />\n          </Switch>\n        </React.Fragment>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ADD_TRAINING, EDIT_TRAINING, EDIT_TRAINING_ERROR } from \"../types\";\r\n\r\nconst initState = {\r\n  orderedClasses: [{ name: \"kot\", duration: 0, totalCost: 0 }]\r\n};\r\n\r\nexport default (state = initState, action) => {\r\n  const training = action.training;\r\n  const trainingStatus = action.trainingStatus;\r\n  switch (action.type) {\r\n    case ADD_TRAINING:\r\n      return { ...state, training };\r\n    case EDIT_TRAINING:\r\n      return { ...state, trainingStatus };\r\n    case EDIT_TRAINING_ERROR:\r\n      return { ...state, trainingStatus };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ADD_TRAINER,\r\n  ADD_USER,\r\n  ADD_USER_ERROR,\r\n  EDIT_PROFILE,\r\n  EDIT_PROFILE_ERROR,\r\n  EDIT_DESCRIPTION,\r\n  EDIT_DESCRIPTION_ERROR,\r\n  EDIT_CLASSES,\r\n  EDIT_CLASSES_ERROR\r\n} from \"../types\";\r\n\r\nconst initState = {\r\n  users: [\r\n    {\r\n      id: 1,\r\n      first_name: \"kot\",\r\n      last_name: \"pies\",\r\n      email: \"kot@gmail.com\",\r\n      phone: \"1122334455\",\r\n      password: \"kotkot\",\r\n      city: \"Wroclaw\",\r\n      trainer: false,\r\n      user: true,\r\n      photo:\r\n        \"https://images.pexels.com/photos/1431282/pexels-photo-1431282.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\"\r\n    },\r\n    {\r\n      id: 2,\r\n      first_name: \"Alicja\",\r\n      last_name: \"Janosz\",\r\n      email: \"ala@gmail.com\",\r\n      phone: \"99887766\",\r\n      password: \"ala\",\r\n      city: \"Wroclaw\",\r\n      trainer: false,\r\n      user: true,\r\n      photo:\r\n        \"https://images.pexels.com/photos/1533897/pexels-photo-1533897.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\"\r\n    }\r\n  ],\r\n  trainers: [\r\n    {\r\n      id: 3,\r\n      first_name: \"Claudio \",\r\n      last_name: \"Ruiz\",\r\n      email: \"claudio@gmail.com\",\r\n      phone: \"111222333\",\r\n      password: \"kotek321\",\r\n      city: \"Wroclaw\",\r\n      trainer: true,\r\n      user: false,\r\n      description:\r\n        \"Cześć jestem Claudio ! Jestem trenerem personalnym od 7 lat. Zajmuję się profesjonalnym treningiem cardio oraz CrossFit. Dużą wagę przywiązuję do jakości przeprowadzanych zajęć, co pozytywnie przekłada się na zainteresowanie ćwiczących.\",\r\n      photo:\r\n        \"https://images.pexels.com/photos/733500/pexels-photo-733500.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\",\r\n      // classes: [\"Cardio\", \"Cross-Fit\"],\r\n      classes: [\r\n        { name: \"Cardio\", cost: 30 },\r\n        { name: \"CrossFit\", cost: 50 },\r\n        { name: \"Taekwondo\", cost: 10 }\r\n      ]\r\n    },\r\n    {\r\n      id: 4,\r\n      first_name: \"Alina\",\r\n      last_name: \"Czubatka\",\r\n      email: \"alina@gmail.com\",\r\n      phone: \"333444555\",\r\n      password: \"muszuking\",\r\n      city: \"Wroclaw\",\r\n      trainer: true,\r\n      user: false,\r\n      photo:\r\n        \"https://images.pexels.com/photos/136405/pexels-photo-136405.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\",\r\n      description:\r\n        \"Cześć jestem Alina ! Dużą wagę przywiązuję do jakości przeprowadzanych zajęć, co pozytywnie przekłada się na zainteresowanie ćwiczących.\",\r\n      classes: [\r\n        { name: \"Cardio\", cost: 30 },\r\n        { name: \"CrossFit\", cost: 50 },\r\n        { name: \"Box\", cost: 45 }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n\r\nexport default (state = initState, action) => {\r\n  const user = action.user;\r\n  const authError = action.authError;\r\n  switch (action.type) {\r\n    case ADD_USER:\r\n      const users = [...state.users, user];\r\n\r\n      return { ...state, users, authError: null };\r\n    case ADD_USER_ERROR:\r\n      return { ...state, authError };\r\n    case ADD_TRAINER:\r\n      const trainers = [...state.trainers, user];\r\n\r\n      return { ...state, trainers, authError: null };\r\n    case EDIT_PROFILE:\r\n      return state;\r\n    case EDIT_PROFILE_ERROR:\r\n      return state;\r\n    case EDIT_DESCRIPTION:\r\n      return state;\r\n    case EDIT_DESCRIPTION_ERROR:\r\n      return state;\r\n    case EDIT_CLASSES:\r\n      return state;\r\n    case EDIT_CLASSES_ERROR:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { LOGIN_SUCCESS, LOGIN_ERROR } from \"../types\";\r\nimport { SIGNOUT_SUCCESS, SIGNOUT_ERROR } from \"../types\";\r\nconst initState = {\r\n  authError: null\r\n};\r\n\r\nexport default (state = initState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_ERROR:\r\n      return {\r\n        ...state,\r\n        authError: \"Błąd logowania. Wprowadź prawidłowe dane\"\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return { ...state, authError: null };\r\n    case SIGNOUT_SUCCESS:\r\n      return state;\r\n    case SIGNOUT_ERROR:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport trainingReducer from \"./trainingReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport authReducer from \"./authReducer\";\r\nconst combindedReducers = combineReducers({\r\n  trainingReducer,\r\n  auth: authReducer,\r\n  users: userReducer,\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer\r\n});\r\n\r\nexport default combindedReducers;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport combinedReducers from \"./components/store/reducers\";\nimport { reduxFirestore, getFirestore } from \"redux-firestore\";\nimport { reactReduxFirebase, getFirebase } from \"react-redux-firebase\";\nimport fbConfig from \"./fbConfig\";\n\nconst store = createStore(\n  combinedReducers,\n  compose(\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n    reduxFirestore(fbConfig),\n    reactReduxFirebase(fbConfig, { attachAuthIsReady: true })\n  )\n);\n\n// prevents navbar distortions due to async firebase functionality\nstore.firebaseAuthIsReady.then(() => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n});\n\nserviceWorker.register();\n"],"sourceRoot":""}